[
    {
        "number": 87612,
        "title": "[v11.0.x] Chore: Add login protection when user is trying different uppercase letters",
        "body": "Backport cd98aaf89b38793d07f6866fb6256cd5322fea0f from #87588\n\n---\n\n**What is this feature?**\r\n\r\nIt turns to lowercase for all login attempts, making it easier to count them if the users try to use different uppercase/lowercase letters.\r\n\r\n**Why do we need this feature?**\r\n\r\nThis issue was reported [here](https://github.com/grafana/bugbounty-private/issues/193).\r\n\r\n**Who is this feature for?**\r\n\r\nIAM\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes https://github.com/grafana/identity-access-team/issues/670\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "missing-labels",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 86362,
        "title": "[v11.0.x] K8s: standalone authenticator that allows a type of downstream forwarding",
        "body": "Backport 0f1151964cb9ca0a77093292242d84aa57c4e754 from #85130\n\n---\n\n<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\n\r\nIn current multi-tenant design, we are temporarily using user's JWT to make service-to-service calls. This should allow for the ID token to become available in the user from context for that purpose.\r\n\r\n**Why do we need this feature?**\r\n\r\nContinue to restrict the scope of requests as they hit downstream.\r\n\r\n**Who is this feature for?**\r\n\r\nGrafana App Platform\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "product-approved",
            "no-changelog",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 87588,
        "title": "Chore: Add login protection when user is trying different uppercase letters",
        "body": "**What is this feature?**\r\n\r\nIt turns to lowercase for all login attempts, making it easier to count them if the users try to use different uppercase/lowercase letters.\r\n\r\n**Why do we need this feature?**\r\n\r\nThis issue was reported [here](https://github.com/grafana/bugbounty-private/issues/193).\r\n\r\n**Who is this feature for?**\r\n\r\nIAM\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes https://github.com/grafana/identity-access-team/issues/670\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "backport v11.0.x",
            "area/backend",
            "backport",
            "missing-labels"
        ]
    },
    {
        "number": 87591,
        "title": "[v11.0.x] Chore: Implement GetOAuthProviders in FakeSocialService",
        "body": "Backport 896882b0049f3ab5436647092fdd2c7fbf8b830c from #87590\n\n---\n\n**What is this feature?**\r\nAdd missing implementation to the FakeSocialService.\r\n\r\n**Why do we need this feature?**\r\nPrevent panic.\r\n\r\n**Who is this feature for?**\r\n\r\n[Add information on what kind of user the feature is for.]\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "backport",
            "area/auth",
            "type/chore"
        ]
    },
    {
        "number": 85146,
        "title": "Auth: Improve org role sync debugging",
        "body": "Add login to the org sync logger to ease debugging ",
        "labels": [
            "no-changelog",
            "area/backend",
            "backport v11.0.x",
            "product-approved",
            "type/chore",
            "team/identity-access"
        ]
    },
    {
        "number": 86939,
        "title": "`[backport to v11.0]` SSO: add SSO settings to secrets migrator (#86913)",
        "body": "* add sso settings to secrets migrator\r\n\r\n* unify SSO settings in all log lines\r\n\r\n(cherry picked from commit 4bf9405ce49323fb2bd36ec8c65f950468081812)\r\n\r\n<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\n\r\nBackporting changes from https://github.com/grafana/grafana/pull/86913 to v11.0.x.\r\n\r\n**Why do we need this feature?**\r\n\r\n[Add a description of the problem the feature is trying to solve.]\r\n\r\n**Who is this feature for?**\r\n\r\n[Add information on what kind of user the feature is for.]\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "area/backend"
        ]
    },
    {
        "number": 86321,
        "title": "[v11.0.x] AuthN: Add IsAuthenticatedBy to identity interface and replace checks",
        "body": "Backport 152cb47692b2139a04e29451e577b1ce0aea3995 from #85262\n\n---\n\n**What is this feature?**\r\nFollow up from https://github.com/grafana/grafana/pull/85090#pullrequestreview-1958159903.\r\n\r\nAdd `IsAuthenticatedBy` to identity interface that checks if identity was authenticated by any of the supplied providers.\r\n\r\n**Which issue(s) does this PR fix?**:\r\nFixes #https://github.com/grafana/grafana/issues/85113\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "area/backend",
            "backport",
            "product-approved",
            "type/chore"
        ]
    },
    {
        "number": 86203,
        "title": "[v11.0.x] Auth: Improve org role sync debugging",
        "body": "Backport da40158fedd4448bccca38d7639d1bfa644fd9a7 from #85146\n\n---\n\nAdd login to the org sync logger to ease debugging ",
        "labels": [
            "no-changelog",
            "area/backend",
            "backport",
            "product-approved",
            "type/chore",
            "team/identity-access"
        ]
    },
    {
        "number": 86913,
        "title": "SSO: Add SSO settings to secrets migrator",
        "body": "<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\n\r\nAdd support for SSO settings when re-encrypting all Grafana secrets. This also works for re-encrypting the secrets using the legacy encryption service.\r\n\r\n**Why do we need this feature?**\r\n\r\nWe need this because SSO secrets have to be re-encrypted every time the data keys are rotated.\r\n\r\n**Who is this feature for?**\r\n\r\nAll users using SSO settings API.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nI tested this locally using grafana cli.\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "type/bug",
            "area/backend",
            "backport v11.0.x",
            "backport v10.4.x",
            "backport-failed",
            "add to changelog"
        ]
    },
    {
        "number": 85130,
        "title": "K8s: standalone authenticator that allows a type of downstream forwarding",
        "body": "<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\n\r\nIn current multi-tenant design, we are temporarily using user's JWT to make service-to-service calls. This should allow for the ID token to become available in the user from context for that purpose.\r\n\r\n**Why do we need this feature?**\r\n\r\nContinue to restrict the scope of requests as they hit downstream.\r\n\r\n**Who is this feature for?**\r\n\r\nGrafana App Platform\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "product-approved",
            "no-changelog",
            "backport v11.0.x",
            "area/backend"
        ]
    },
    {
        "number": 87132,
        "title": "Alerting: Prevent search from locking the browser",
        "body": "This PR prevents the following scenarios:\r\n\r\n1. very long search strings from exploding the regex permutations\r\n2. a large amount of search terms (whitespace separated) from locking the browser\r\n",
        "labels": [
            "area/frontend",
            "type/bug",
            "area/alerting",
            "backport v11.0.x",
            "product-approved",
            "backport v10.4.x",
            "add to changelog"
        ]
    },
    {
        "number": 85206,
        "title": "Storage: GuaranteedUpdate fix & other improvements",
        "body": "- make GuaranteedUpdate work when ignoring not found errors\r\n- increase poll frequency\r\n- fix Delete issue when origin info not set\r\n- return correct action on create/update",
        "labels": [
            "product-approved",
            "no-changelog",
            "backport v11.0.x",
            "area/backend"
        ]
    },
    {
        "number": 87590,
        "title": "Chore: Implement GetOAuthProviders in FakeSocialService",
        "body": "**What is this feature?**\r\nAdd missing implementation to the FakeSocialService.\r\n\r\n**Why do we need this feature?**\r\nPrevent panic.\r\n\r\n**Who is this feature for?**\r\n\r\n[Add information on what kind of user the feature is for.]\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "backport v11.0.x",
            "area/auth",
            "backport v10.4.x",
            "type/chore"
        ]
    },
    {
        "number": 86359,
        "title": "Auth: Force lowercase login/email for users",
        "body": "**why/what**\r\n\r\nWe are lowercasing the login, email parameters of user methods and queries due to enforcement of case insensitive login and emails for our users.\r\nThe change introduced makes users whom do not have lowercased login or email not able to login, this is why we opted for a migration as well. This is also part of the work to move to lowercased emails and logins.\r\n\r\n- Adds a migration that lowercases login or emails where we do not find a lowercased entry in the database for those users\r\n- Adds lowercasing of the parameters `login` and `email` for function calls of getting users\r\n- Removes `LOWER()` from query parameters, that was not using the indexes of the databases\r\n\r\n\r\n```[tasklist]\r\n### Tasks\r\n- [x] test cases for lowercasing logins\r\n- [x] test cases for lowercasing emails\r\n- [x] test with terraform provider and state change for the users\r\n```\r\n\r\nIssue\r\nhttps://github.com/grafana/identity-access-team/issues/657\r\n\r\n### Notes\r\n\r\nWe were initially querying the db with `LOWER(login)` which did not make use of our created indexes, causing the db to scan all rows.\r\n\r\nWithout the `LOWER()` operation, we now see that it is using the index correctly.\r\n```sql\r\nEXPLAIN QUERY PLAN SELECT `id`, `uid`, `version`, `email`, `name`, `login`, `password`, `salt`, `rands`, `company`, `email_verified`, `theme`, `help_flags1`, `is_disabled`, `is_admin`, `is_service_account`, `org_id`, `created`, `updated`, `last_seen_at` FROM `user` WHERE (`user`.is_service_account = 0) AND (login=?) LIMIT 1;\r\n```\r\n- [x] using indx `SEARCH user USING INDEX UQE_user_login (login=?)`\r\n\r\n---\r\nA follow up issue is to enforce lowercasing as part of the columns.\r\n\r\n\r\n\r\n# Release notice breaking change\r\nWe are migrating `email` and `login` automatically to lowercasing for our `user` table.\r\n\r\nThis is a breaking change that introduces lowercasing input fields in methods for `GetByEmail`, `GetByLogin`. The users are now using lowercase as part of their login and emails, regardless if they login with `Grafanauser@Grafana.com`.\r\n\r\n**Troubleshooting**\r\n\r\nIf you are experiencing any issues with your users not being logged in with the correct user. Please refer to the CLI we built to deal with conflicting users.\r\n\r\nUse our [CLI](https://grafana.com/blog/2022/12/12/guide-to-using-the-new-grafana-cli-user-identity-conflict-tool-in-grafana-9.3/#:~:text=A%20user%20identity%20conflict%20occurs,more%20capitalized%20letters%20%E2%80%9Cgrafana_LOGIN%E2%80%9D.) introduced in Grafana 9.3 to resolve user conflicts.\r\n\r\n\r\nYou might experience constraints for duplicate entries (since you might have two user entries, one lowercased and one with mixed or capitalised cases).\r\n`Query 1 ERROR at Line 1: : UNIQUE constraint failed: user.email`\r\n\r\nThere might be cases where you as an admin, have to go and look at the users table to see ",
        "labels": [
            "breaking change",
            "area/backend/db/migration",
            "type/bug",
            "area/backend",
            "backport v11.0.x",
            "backport-failed",
            "add to changelog"
        ]
    },
    {
        "number": 86354,
        "title": "[v11.0.x] User: email verification completion",
        "body": "Backport 73e426b081e2d76be2b7ead89c39ec55097a29cd from #85259\n\n---\n\n\r\n**What is this feature?**\r\nThis is extracted from other work I am doing for https://github.com/grafana/identity-access-team/issues/536.\r\n\r\nExtract the completion logic for email verification into the Verification service so it is easier to reuse. I also noticed that when verification for email updates completes the we never marked the user as verified. This is also fixed in this pr.\r\n\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "product-approved",
            "no-changelog",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 85262,
        "title": "AuthN: Add IsAuthenticatedBy to identity interface and replace checks",
        "body": "**What is this feature?**\r\nFollow up from https://github.com/grafana/grafana/pull/85090#pullrequestreview-1958159903.\r\n\r\nAdd `IsAuthenticatedBy` to identity interface that checks if identity was authenticated by any of the supplied providers.\r\n\r\n**Which issue(s) does this PR fix?**:\r\nFixes #https://github.com/grafana/grafana/issues/85113\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "backport v11.0.x",
            "area/backend",
            "product-approved",
            "type/chore"
        ]
    },
    {
        "number": 87142,
        "title": "[v11.0.x] Data source: Maintain the default data source permissions when switching from unlicensed to licensed Grafana",
        "body": "Backport 5e060d2d99e1995d4ee4af1453a0c250f47eb414 from #87119\n\n---\n\n**What is this feature?**\r\n\r\nEnsures that the default data source permissions for Viewers and Editors remain intact (as in, Viewers and Editors can query data sources) when switching from an unlicensed to licensed Grafana instance.\r\n\r\n**Why do we need this feature?**\r\n\r\nTo ensure a smooth transition from unlicensed to licensed instances.\r\n\r\n**Who is this feature for?**\r\n\r\nAny users whose workflow involves configuring their data sources before setting a license token.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nFixes https://github.com/grafana/identity-access-team/issues/672\r\n\r\n**Special notes for your reviewer:**\r\n\r\nNote that this does not expose any extra functionality to OSS/unlicensed instances - users still can't customize data source permissions for these instances. This only ensures that the default permissions (Viewers and Editors can query) stays when switching to a licensed instance.\r\n\r\nWith this fix we could technically also add a migration and remove [this bit of code](https://github.com/grafana/grafana/blob/0aebb9ee3929f94157ebaaaa95776aa838b571db/pkg/api/accesscontrol.go#L118-L121). However, I think it's not worth it, as the code cleanup gain doesn't make up for dealing with all the migration pains.\r\n\r\nEnterprise PR: https://github.com/grafana/grafana-enterprise/pull/6556",
        "labels": [
            "add to changelog",
            "type/bug",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 87222,
        "title": "[v11.0.x] RBAC: Do not set permissions on data sources with wildcard UID in OSS",
        "body": "Backport 28dd1ddd8eb1b6d22b0a42dcc23c67985557c440 from #87220\n\n---\n\n**What is this feature?**\r\n\r\nSkip permissions setting for data sources with wildcard UIDs in unlicensed Grafana, as this would cause issues when an instance is upgraded to a licensed version.\r\n\r\n**Why do we need this feature?**\r\n\r\nAvoid data source permission issues when an instance gets licensed.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nRelated to https://github.com/grafana/identity-access-team/issues/672\r\n\r\n**Special notes for your reviewer:**\r\n\r\nThis is not a security issue, as there is no way to escalate permissions (only admins can create data sources in OSS, and they can admin all data sources anyway). But this would grant unexpected wildcard DS permissions to viewers and editors if the instance gets upgraded to a licensed version, which would be confusing.",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 86371,
        "title": "[v11.0.x] CloudMigrations: Add instance metadata to auth token",
        "body": "Backport 5a5f76ae0a2d14cffa6a8b9b39f2bea7bc53cdc9 from #85381\n\n---\n\n**What is this feature?**\r\n\r\nUpdates the data model of cms auth tokens\r\n\r\nFixes https://github.com/grafana/grafana-operator-experience-squad/issues/726",
        "labels": [
            "product-approved",
            "no-changelog",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 87230,
        "title": "[v11.0.x] Alerting: Prevent search from locking the browser",
        "body": "Backport 1d06f33a8eeba6d1c8c7b34dbdc4e24b29327c4e from #87132\n\n---\n\nThis PR prevents the following scenarios:\r\n\r\n1. very long search strings from exploding the regex permutations\r\n2. a large amount of search terms (whitespace separated) from locking the browser\r\n",
        "labels": [
            "area/frontend",
            "type/bug",
            "area/alerting",
            "backport",
            "product-approved",
            "add to changelog"
        ]
    },
    {
        "number": 87220,
        "title": "RBAC: Do not set permissions on data sources with wildcard UID in OSS",
        "body": "**What is this feature?**\r\n\r\nSkip permissions setting for data sources with wildcard UIDs in unlicensed Grafana, as this would cause issues when an instance is upgraded to a licensed version.\r\n\r\n**Why do we need this feature?**\r\n\r\nAvoid data source permission issues when an instance gets licensed.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nRelated to https://github.com/grafana/identity-access-team/issues/672\r\n\r\n**Special notes for your reviewer:**\r\n\r\nThis is not a security issue, as there is no way to escalate permissions (only admins can create data sources in OSS, and they can admin all data sources anyway). But this would grant unexpected wildcard DS permissions to viewers and editors if the instance gets upgraded to a licensed version, which would be confusing.",
        "labels": [
            "backport v11.0.x",
            "no-changelog",
            "type/bug",
            "area/backend"
        ]
    },
    {
        "number": 87115,
        "title": "[v11.0.x] Alerting: Allow deleting contact points referenced only by auto-generated policies",
        "body": "Backport b679a32fad63eb1bda5b54c946b1de8921b55c68 from #86800\r\n\r\n---\r\n\r\n**What is this feature?**\r\n\r\nThis PR omits \"auto-generated\" policies from being counted as route references when determining if the contact point can be deleted, however this might result in a back-end request failure if an alert rule is using simplified routing with this contact point.\r\n\r\n**Comments for reviewers**\r\n\r\nWhen attempting to remove a contact point that is only linked to a auto-generated policy and has an alert rule point to it we receive the following error from the backend; can we have something more sensible here to show to the user?\r\n\r\n<img width=\"856\" alt=\"image\" src=\"https://github.com/grafana/grafana/assets/868844/6b811c51-21e6-4807-970f-d4ebd98b0a42\">\r\n",
        "labels": [
            "area/frontend",
            "type/bug",
            "area/alerting",
            "backport",
            "add to changelog"
        ]
    },
    {
        "number": 86699,
        "title": "[v11.0.x] Alerting: Take receivers into account when custom grouping Alertmanager groups",
        "body": "Backport acd3e83c1c3db3d843b140897059afd565f13e0f from #86127\n\n---\n\n**What is this feature?**\r\nThis PR fixes custom grouping behavior for Alertmanager alert groups\r\nIt unified how groups are display for custom and default grouping modes\r\n\r\n**Why do we need this feature?**\r\nUsers are confused seeing duplicated alerts \r\n\r\n**Who is this feature for?**\r\nAll users\r\n\r\n**Special notes for your reviewer:**\r\n\r\n**BEFORE**\r\n![image](https://github.com/grafana/grafana/assets/6293563/7919f9bb-73b8-48e0-9198-e91ddacb3916)\r\n\r\n**AFTER**\r\n![image](https://github.com/grafana/grafana/assets/6293563/2592a33c-f040-4a77-ad5e-8508279cab43)\r\n\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "type/bug",
            "area/alerting",
            "backport",
            "add to changelog"
        ]
    },
    {
        "number": 86985,
        "title": "[v11.0.x] Auth: Force lowercase login/email for users",
        "body": "Backport e394e16073dd73fef589d2b42afbb9e0a9eed606 from #86359",
        "labels": [
            "add to changelog",
            "area/backend/db/migration",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 87119,
        "title": "Data source: Maintain the default data source permissions when switching from unlicensed to licensed Grafana",
        "body": "**What is this feature?**\r\n\r\nEnsures that the default data source permissions for Viewers and Editors remain intact (as in, Viewers and Editors can query data sources) when switching from an unlicensed to licensed Grafana instance.\r\n\r\n**Why do we need this feature?**\r\n\r\nTo ensure a smooth transition from unlicensed to licensed instances.\r\n\r\n**Who is this feature for?**\r\n\r\nAny users whose workflow involves configuring their data sources before setting a license token.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nFixes https://github.com/grafana/identity-access-team/issues/672\r\n\r\n**Special notes for your reviewer:**\r\n\r\nNote that this does not expose any extra functionality to OSS/unlicensed instances - users still can't customize data source permissions for these instances. This only ensures that the default permissions (Viewers and Editors can query) stays when switching to a licensed instance.\r\n\r\nWith this fix we could technically also add a migration and remove [this bit of code](https://github.com/grafana/grafana/blob/0aebb9ee3929f94157ebaaaa95776aa838b571db/pkg/api/accesscontrol.go#L118-L121). However, I think it's not worth it, as the code cleanup gain doesn't make up for dealing with all the migration pains.\r\n\r\nEnterprise PR: https://github.com/grafana/grafana-enterprise/pull/6556",
        "labels": [
            "backport v11.0.x",
            "add to changelog",
            "type/bug",
            "area/backend"
        ]
    },
    {
        "number": 86266,
        "title": "[v11.0.x] Alerting: Reduce set of fields that could trigger alert state change",
        "body": "Backport 6f38ac6615aef641a489c2d34ca351475f48b5a4 from #83496\n\n---\n\n**What is this feature?**\r\n\r\nWe want to avoid too much change of alert state based on change on alert's fields. For that we ignore some fields from the diff.\r\n\r\nThis is a rather cautious first pull request, ~~but I would love to make another pull request for `IntervalSeconds`~~. We could even go further as [pointed](https://github.com/grafana/grafana/issues/83250) by @yuri-tceretian but I can do in another PR.\r\n\r\n**Why do we need this feature?**\r\n\r\nThere is great issue by @yuri-tceretian  that detail all fo this https://github.com/grafana/grafana/issues/83250\r\n\r\n**Who is this feature for?**\r\n\r\nEveryone who use alerting and updates.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nFixes https://github.com/grafana/grafana/issues/83250\r\n\r\ncc @yuri-tceretian ",
        "labels": [
            "area/alerting",
            "area/backend",
            "backport",
            "product-approved",
            "pr/external",
            "add to changelog"
        ]
    },
    {
        "number": 85259,
        "title": "User: email verification completion",
        "body": "\r\n**What is this feature?**\r\nThis is extracted from other work I am doing for https://github.com/grafana/identity-access-team/issues/536.\r\n\r\nExtract the completion logic for email verification into the Verification service so it is easier to reuse. I also noticed that when verification for email updates completes the we never marked the user as verified. This is also fixed in this pr.\r\n\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "product-approved",
            "no-changelog",
            "backport v11.0.x",
            "area/backend"
        ]
    },
    {
        "number": 85195,
        "title": "Alerting: Make hovercard accessible",
        "body": "**What is this feature?**\r\n\r\nPrior to this PR the hover card wouldn't be keyboard accessible, this adds the ability to focus the element with the keyboard and it will automatically show the tooltip.\r\n\r\nTested this with Chrome but should also work for the other browsers :)\r\n\r\n<img width=\"868\" alt=\"image\" src=\"https://github.com/grafana/grafana/assets/868844/ae2aad73-0bdd-4da7-87af-f7e59b412894\">\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/alerting",
            "backport v11.0.x",
            "product-approved",
            "type/accessibility"
        ]
    },
    {
        "number": 85381,
        "title": "CloudMigrations: Add instance metadata to auth token",
        "body": "**What is this feature?**\r\n\r\nUpdates the data model of cms auth tokens\r\n\r\nFixes https://github.com/grafana/grafana-operator-experience-squad/issues/726",
        "labels": [
            "product-approved",
            "no-changelog",
            "backport v11.0.x",
            "area/backend"
        ]
    },
    {
        "number": 86323,
        "title": "[v11.0.x] Storage: GuaranteedUpdate fix & other improvements",
        "body": "Backport ef26fe95dc0eebb9c201d6f7d94f345ee8ca30e9 from #85206\n\n---\n\n- make GuaranteedUpdate work when ignoring not found errors\r\n- increase poll frequency\r\n- fix Delete issue when origin info not set\r\n- return correct action on create/update",
        "labels": [
            "product-approved",
            "no-changelog",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 86542,
        "title": "[v11.0.x] RolePicker: Adjust dynamic position",
        "body": "Backport 1d1ebee36b2bdafaa14c60ff3b494a64b7b601d1 from #86424\n\n---\n\n**What is this feature?**\r\n\r\nAdjust the dynamic position of the RolePicker menu.\r\n\r\n**Why do we need this feature?**\r\n\r\nThe menu showed up at the cursor position and closed again immediately.\r\n\r\n**Who is this feature for?**\r\n\r\nIAM\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "missing-labels",
            "backport"
        ]
    },
    {
        "number": 87570,
        "title": "[v11.0.x] Dashboard scene: Discard panel changes disabled/enabled depending of changes",
        "body": "Backport c3936bbae2e1327194e66d0bb14e110b52a60609 from #87137\r\n\r\n---\r\n\r\n**What is this feature?**\r\n\r\nhttps://github.com/grafana/grafana/assets/468940/cf273840-fd03-498e-8350-94bb7f67487b\r\n\r\n\r\n\r\nThis enables and disables the discard panel changes button depending on if the panel has been changed.\r\n\r\nThe comparison by converting to `Panel` and then running it through jsonDiff similar to what we do to detect dashboard changes might be a bit heavy handed, but it feels fairly robust.\r\n\r\nFixes #86974\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 87163,
        "title": "[v11.0.x] Chore: Remove extra sql select from the Insert function of userimpl.store",
        "body": "Backport 1cb3f332a17923f58cfa75cdb9d5eaab7ed66f45 from #87060\r\n\r\n---\r\n\r\n**What is this feature?**\r\nThis PR removes the extra sql `select` from after the tx in the Insert function of the user store.\r\n\r\n**Why do we need this feature?**\r\nThe `getAnyUserType` seems to be unnecessary, because `cmd.ID` is set from within the transaction. Besides, in load-balanced scenarios the sql `select` can be routed to a replica that doesn't have the latest data from the primary which causes the `Insert` function to error out.\r\n\r\n**Who is this feature for?**\r\n\r\n[Add information on what kind of user the feature is for.]\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "backport",
            "area/backend/user",
            "team/identity-access"
        ]
    },
    {
        "number": 84955,
        "title": "Scopes: Name relationship objects *binding",
        "body": "After talking to @ryantxu we agreed that objects use to track relationships should be named `*Binding` similar to [RoleBinding](https://kubernetes.io/docs/reference/access-authn-authz/rbac/#rolebinding-example) in k8s.\r\n\r\nThis only changes the backend so we need to change the frontend objects and paths. @bfmatei would you be able to do that next week? ",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/backend",
            "backport v11.0.x",
            "product-approved",
            "area/scopes"
        ]
    },
    {
        "number": 87070,
        "title": "[v11.0.x] Alerting: Improve error when receiver or time interval used by rule is deleted",
        "body": "Backport 3397e8bf096731182cf6f99c6ee268299ea44199 from #86865\n\n---\n\n**What is this feature?**\r\n\r\nImproves the error message when attempting to delete a contact point or time interval that is not used in a notification policy but is used by a rule in simplified routing.\r\n\r\n**Why do we need this feature?**\r\n\r\nThe old error message is ambiguous and not easily actionable from the description.\r\n\r\n**Who is this feature for?**\r\n\r\nUsers of simplified routing.\r\n\r\n[Peek 2024-04-24 11-04.webm](https://github.com/grafana/grafana/assets/8484471/3b098434-47b1-41e6-854b-c02fa29424a6)\r\n\r\nError response:\r\n\r\n```json\r\n{\r\n  \"extra\": {\r\n    \"Receiver\": \"slack testing\"\r\n  },\r\n  \"message\": \"receiver [Name: slack testing] is used by rule\",\r\n  \"messageId\": \"alerting.notifications.alertmanager.receiverInUse\",\r\n  \"statusCode\": 400,\r\n  \"traceID\": \"\"\r\n}\r\n```\r\n",
        "labels": [
            "no-changelog",
            "area/alerting",
            "area/backend",
            "backport",
            "product-approved"
        ]
    },
    {
        "number": 86272,
        "title": "[v11.0.x] Alerting: Make hovercard accessible",
        "body": "Backport 90a1e8a82ff03394eae4aa50a865f32940aa637f from #85195\n\n---\n\n**What is this feature?**\r\n\r\nPrior to this PR the hover card wouldn't be keyboard accessible, this adds the ability to focus the element with the keyboard and it will automatically show the tooltip.\r\n\r\nTested this with Chrome but should also work for the other browsers :)\r\n\r\n<img width=\"868\" alt=\"image\" src=\"https://github.com/grafana/grafana/assets/868844/ae2aad73-0bdd-4da7-87af-f7e59b412894\">\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/alerting",
            "backport",
            "product-approved",
            "type/accessibility"
        ]
    },
    {
        "number": 86127,
        "title": "Alerting: Take receivers into account when custom grouping Alertmanager groups",
        "body": "**What is this feature?**\r\nThis PR fixes custom grouping behavior for Alertmanager alert groups\r\nIt unified how groups are display for custom and default grouping modes\r\n\r\n**Why do we need this feature?**\r\nUsers are confused seeing duplicated alerts \r\n\r\n**Who is this feature for?**\r\nAll users\r\n\r\n**Special notes for your reviewer:**\r\n\r\n**BEFORE**\r\n![image](https://github.com/grafana/grafana/assets/6293563/7919f9bb-73b8-48e0-9198-e91ddacb3916)\r\n\r\n**AFTER**\r\n![image](https://github.com/grafana/grafana/assets/6293563/2592a33c-f040-4a77-ad5e-8508279cab43)\r\n\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "type/bug",
            "area/alerting",
            "backport v11.0.x",
            "backport v10.4.x",
            "add to changelog"
        ]
    },
    {
        "number": 83496,
        "title": "Alerting: Reduce set of fields that could trigger alert state change",
        "body": "**What is this feature?**\r\n\r\nWe want to avoid too much change of alert state based on change on alert's fields. For that we ignore some fields from the diff.\r\n\r\nThis is a rather cautious first pull request, ~~but I would love to make another pull request for `IntervalSeconds`~~. We could even go further as [pointed](https://github.com/grafana/grafana/issues/83250) by @yuri-tceretian but I can do in another PR.\r\n\r\n**Why do we need this feature?**\r\n\r\nThere is great issue by @yuri-tceretian  that detail all fo this https://github.com/grafana/grafana/issues/83250\r\n\r\n**Who is this feature for?**\r\n\r\nEveryone who use alerting and updates.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nFixes https://github.com/grafana/grafana/issues/83250\r\n\r\ncc @yuri-tceretian ",
        "labels": [
            "area/alerting",
            "area/backend",
            "backport v11.0.x",
            "product-approved",
            "pr/external",
            "add to changelog"
        ]
    },
    {
        "number": 86202,
        "title": "[v11.0.x] Scopes: Name relationship objects *binding",
        "body": "Backport b214b076958bd29adcfb8011604f938ca9d37a9c from #84955\n\n---\n\nAfter talking to @ryantxu we agreed that objects use to track relationships should be named `*Binding` similar to [RoleBinding](https://kubernetes.io/docs/reference/access-authn-authz/rbac/#rolebinding-example) in k8s.\r\n\r\nThis only changes the backend so we need to change the frontend objects and paths. @bfmatei would you be able to do that next week? ",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/backend",
            "backport",
            "product-approved",
            "area/scopes"
        ]
    },
    {
        "number": 87335,
        "title": "DashboardScene: Restrict dashboard in read only state (#87316)",
        "body": "Backport 64330534799cd1e222c69a0a07ba5dc8f39366e1 from #87316\r\n\r\n---\r\n\r\n\r\nIn order to fix this for G11 a temporary solution of `Make Editable` button was introduced and few safeguards around that.\r\n\r\nFixes #87169\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport"
        ]
    },
    {
        "number": 87137,
        "title": "Dashboard scene: Discard panel changes disabled/enabled depending of changes",
        "body": "**What is this feature?**\r\n\r\nhttps://github.com/grafana/grafana/assets/468940/cf273840-fd03-498e-8350-94bb7f67487b\r\n\r\n\r\n\r\nThis enables and disables the discard panel changes button depending on if the panel has been changed.\r\n\r\nThe comparison by converting to `Panel` and then running it through jsonDiff similar to what we do to detect dashboard changes might be a bit heavy handed, but it feels fairly robust.\r\n\r\nFixes #86974\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport v11.0.x",
            "backport-failed"
        ]
    },
    {
        "number": 86715,
        "title": "[v11.0.x] Embed Managing users and permissions video to the documentation",
        "body": "Backport 59eb302fc14e54b1889a5df0431d97b51f25bd7f from #86387\n\n---\n\n<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\n\r\n[Add a brief description of what the feature or update does.]\r\n\r\n**Why do we need this feature?**\r\n\r\n[Add a description of the problem the feature is trying to solve.]\r\n\r\n**Who is this feature for?**\r\n\r\n[Add information on what kind of user the feature is for.]\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 87315,
        "title": "sql expressions - Backport 87277 to v11.0.x",
        "body": "handle more use cases with the parser\r\n",
        "labels": [
            "no-changelog",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 84744,
        "title": "Auth: add Dex example to generic OAuth2 documentation",
        "body": "This patch adds an example configuration for setting up generic OAuth2 authentication using [Dex IdP](https://dexidp.io/).\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "pr/external",
            "no-changelog",
            "type/docs",
            "backport v11.0.x"
        ]
    },
    {
        "number": 87681,
        "title": "[v11.0.x] AuthN: Fix signout redirect url",
        "body": "Backport 0f3080ecb89b4e12534e16dd56122d600addd80e from #87631\n\n---\n\n**What is this feature?**\r\nAfter https://github.com/grafana/grafana/pull/79635 we did not respect `signout_redirect_url` configured under `[auth]`. It only worked with saml and oauth.\r\n\r\nTo fix this we instead default to use `signout_redirect_url` if configured. A client that implement `LogoutClient` will still take precedence. We also need to ignore the case when users don't have a session token so that the configured redirect url is used.\r\n\r\n\r\n\r\n\r\n**Which issue(s) does this PR fix?**:\r\nFixes #85128\r\nFixes #84108\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "add to changelog",
            "type/bug",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 86322,
        "title": "[v11.0.x] Update dependency sass to v1.72.0",
        "body": "Backport 986b078d79b5cc2cc2e12916c96a1948181dd3c9 from #85272\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [sass](https://togithub.com/sass/dart-sass) | [`1.70.0` -> `1.72.0`](https://renovatebot.com/diffs/npm/sass/1.70.0/1.72.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/sass/1.72.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/sass/1.72.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/sass/1.70.0/1.72.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/sass/1.70.0/1.72.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>sass/dart-sass (sass)</summary>\n\n### [`v1.72.0`](https://togithub.com/sass/dart-sass/blob/HEAD/CHANGELOG.md#1720)\n\n[Compare Source](https://togithub.com/sass/dart-sass/compare/1.71.1...1.72.0)\n\n-   Support adjacent `/`s without whitespace in between when parsing plain CSS\n    expressions.\n\n-   Allow the Node.js `pkg:` importer to load Sass stylesheets for `package.json`\n    `exports` field entries without extensions.\n\n-   When printing suggestions for variables, use underscores in variable names\n    when the original usage used underscores.\n\n##### JavaScript API\n\n-   Properly resolve `pkg:` imports with the Node.js package importer when\n    arguments are passed to the JavaScript process.\n\n### [`v1.71.1`](https://togithub.com/sass/dart-sass/blob/HEAD/CHANGELOG.md#1711)\n\n[Compare Source](https://togithub.com/sass/dart-sass/compare/1.71.0...1.71.1)\n\n##### Command-Line Interface\n\n-   Ship the musl Linux release with the proper Dart executable.\n\n##### JavaScript API\n\n-   Export the `NodePackageImporter` class in ESM mode.\n\n-   Allow `NodePackageImporter` to locate a default directory even when the\n    entrypoint is an ESM module.\n\n##### Dart API\n\n-   Make passing a null argument to `NodePackageImporter()` a static error rather\n    than just a runtime error.\n\n##### Embedded Sass\n\n-   In the JS Embedded Host, properly install the musl Linux embedded compiler\n    when running on musl Linux.\n\n### [`v1.71.0`](https://togithub.com/sass/dart-sass/blob/HEAD/CHANGELOG.md#1710)\n\n[Compare Source](https://togithub.com/sass/dart-sass/compare/1.70.0...1.71.0)\n\nFor more information about `pkg:` importers, see [the\nannouncement][pkg-importers] on the Sass blog.\n\n[pkg-importers]: https://sass-lang.com/blog/announcing-pkg-importers\n\n##### Command-Line Interface\n\n-   Add a `--pkg-importer` flag to enable built-in `pkg:` importers. Currently\n    this only supports the Node.js package resolution algorithm, via\n    `--pkg-importer=node`. For example, `@use \"pkg:bootstrap\"` will load\n    `node_modules/bootstrap/scss/bootstrap.scss`.\n\n##### JavaScript API\n\n-   Add a `NodePackageImporter` importer that can be passed to the `importers`\n    option. This loads files using the `pkg:` URL scheme according to the Node.js\n    package resolution algorithm. For example, `@use \"pkg:bootstrap\"` will load\n    `node_modules/bootstrap/scss/bootstrap.scss`. The constructor takes a single\n    optional argument, which indicates the base directory to use when locating\n    `node_modules` directories. It defaults to\n    `path.dirname(require.main.filename)`.\n\n##### Dart API\n\n-   Add a `NodePackageImporter` importer that can be passed to the `importers`\n    option. This loads files using the `pkg:` URL scheme according to the Node.js\n    package resolution algorithm. For example, `@use \"pkg:bootstrap\"` will load\n    `node_modules/bootstrap/scss/bootstrap.scss`. The constructor takes a single\n    argument, which indicates the base directory to use when locating\n    `node_modules` directories.\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 87078,
        "title": "Backport 87073 to v11.0.x",
        "body": "**What is this feature?**\r\n\r\nSQL Expressions  Bump DuckDB Cli - Backport\r\n\r\n**Why do we need this feature?**\r\n\r\nSo SQL Expressions work on Grafana Cloud\r\n\r\n**Who is this feature for?**\r\n\r\nAnyone who wants to use SQL Expressions\r\n",
        "labels": [
            "no-changelog",
            "area/backend"
        ]
    },
    {
        "number": 87072,
        "title": "[v11.0.x] Auth: Sign sigV4 request after adding headers",
        "body": "Backport 7b392d40a019bfbc51d63431ca3e748ad7e4c43e from #87063\n\n---\n\nIn [this commit](https://github.com/grafana/grafana/pull/81662) a middleware that adds a header was added to the client provider, however we need to do the sigv4 signature after all headers have been added. This pr moves the signature to the end of the middlewares and adds a comment to avoid this issue in the future.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nRelated to https://github.com/grafana/support-escalations/issues/10228\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "add to changelog",
            "type/bug",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 86424,
        "title": "RolePicker: Adjust dynamic position",
        "body": "**What is this feature?**\r\n\r\nAdjust the dynamic position of the RolePicker menu.\r\n\r\n**Why do we need this feature?**\r\n\r\nThe menu showed up at the cursor position and closed again immediately.\r\n\r\n**Who is this feature for?**\r\n\r\nIAM\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "backport",
            "missing-labels"
        ]
    },
    {
        "number": 86364,
        "title": "[v11.0.x] Auth: add Dex example to generic OAuth2 documentation",
        "body": "Backport e9969e3542b6039733f245e1728bac2966b672e2 from #84744\n\n---\n\nThis patch adds an example configuration for setting up generic OAuth2 authentication using [Dex IdP](https://dexidp.io/).\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "pr/external",
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 87271,
        "title": "Alerting: Fix max alerts",
        "body": "Fixes a small regression from https://github.com/grafana/grafana/pull/86651 that would not allow creating or updating webhook receivers if `max alerts` was empty.\r\n\r\nIn the scenario where the user did not fill in the field, `setValueAs` would return `NaN` and this in turn would fail the `validationRule` regular expression.\r\n\r\nThis PR changes the behaviour to cast to a Number with the `Number` constructor (which returns `0` on `undefined | \"\"`) but can still return `NaN` \u2013 so we also check if the result is finite.\r\n\r\n<img width=\"639\" alt=\"image\" src=\"https://github.com/grafana/grafana/assets/868844/0fbc2aa5-bbff-44e0-8a37-f6a6e42bdb4c\">\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "area/alerting",
            "backport v11.0.x",
            "product-approved",
            "backport v10.4.x"
        ]
    },
    {
        "number": 85272,
        "title": "Update dependency sass to v1.72.0",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [sass](https://togithub.com/sass/dart-sass) | [`1.70.0` -> `1.72.0`](https://renovatebot.com/diffs/npm/sass/1.70.0/1.72.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/sass/1.72.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/sass/1.72.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/sass/1.70.0/1.72.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/sass/1.70.0/1.72.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>sass/dart-sass (sass)</summary>\n\n### [`v1.72.0`](https://togithub.com/sass/dart-sass/blob/HEAD/CHANGELOG.md#1720)\n\n[Compare Source](https://togithub.com/sass/dart-sass/compare/1.71.1...1.72.0)\n\n-   Support adjacent `/`s without whitespace in between when parsing plain CSS\n    expressions.\n\n-   Allow the Node.js `pkg:` importer to load Sass stylesheets for `package.json`\n    `exports` field entries without extensions.\n\n-   When printing suggestions for variables, use underscores in variable names\n    when the original usage used underscores.\n\n##### JavaScript API\n\n-   Properly resolve `pkg:` imports with the Node.js package importer when\n    arguments are passed to the JavaScript process.\n\n### [`v1.71.1`](https://togithub.com/sass/dart-sass/blob/HEAD/CHANGELOG.md#1711)\n\n[Compare Source](https://togithub.com/sass/dart-sass/compare/1.71.0...1.71.1)\n\n##### Command-Line Interface\n\n-   Ship the musl Linux release with the proper Dart executable.\n\n##### JavaScript API\n\n-   Export the `NodePackageImporter` class in ESM mode.\n\n-   Allow `NodePackageImporter` to locate a default directory even when the\n    entrypoint is an ESM module.\n\n##### Dart API\n\n-   Make passing a null argument to `NodePackageImporter()` a static error rather\n    than just a runtime error.\n\n##### Embedded Sass\n\n-   In the JS Embedded Host, properly install the musl Linux embedded compiler\n    when running on musl Linux.\n\n### [`v1.71.0`](https://togithub.com/sass/dart-sass/blob/HEAD/CHANGELOG.md#1710)\n\n[Compare Source](https://togithub.com/sass/dart-sass/compare/1.70.0...1.71.0)\n\nFor more information about `pkg:` importers, see [the\nannouncement][pkg-importers] on the Sass blog.\n\n[pkg-importers]: https://sass-lang.com/blog/announcing-pkg-importers\n\n##### Command-Line Interface\n\n-   Add a `--pkg-importer` flag to enable built-in `pkg:` importers. Currently\n    this only supports the Node.js package resolution algorithm, via\n    `--pkg-importer=node`. For example, `@use \"pkg:bootstrap\"` will load\n    `node_modules/bootstrap/scss/bootstrap.scss`.\n\n##### JavaScript API\n\n-   Add a `NodePackageImporter` importer that can be passed to the `importers`\n    option. This loads files using the `pkg:` URL scheme according to the Node.js\n    package resolution algorithm. For example, `@use \"pkg:bootstrap\"` will load\n    `node_modules/bootstrap/scss/bootstrap.scss`. The constructor takes a single\n    optional argument, which indicates the base directory to use when locating\n    `node_modules` directories. It defaults to\n    `path.dirname(require.main.filename)`.\n\n##### Dart API\n\n-   Add a `NodePackageImporter` importer that can be passed to the `importers`\n    option. This loads files using the `pkg:` URL scheme according to the Node.js\n    package resolution algorithm. For example, `@use \"pkg:bootstrap\"` will load\n    `node_modules/bootstrap/scss/bootstrap.scss`. The constructor takes a single\n    argument, which indicates the base directory to use when locating\n    `node_modules` directories.\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86271,
        "title": "[v11.0.x] CloudWatch : Add missing AWS/ES metrics",
        "body": "Backport ace1cd63013cbb1fc2c451d61b974a30c8ab8758 from #85210\n\n---\n\n**What is this feature?**\r\n\r\nThis PR adds two missing `AWS/ES` metrics, which are hidden from the docs, bu available in cloudwatch.\r\n\r\n**Why do we need this feature?**\r\n\r\nNeed the metrics added for a customer.\r\n\r\n**Who is this feature for?**\r\n\r\nCloudWatch datasource and integration users.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nRelated to https://github.com/grafana/support-escalations/issues/9867\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "datasource/CloudWatch",
            "area/backend",
            "backport",
            "product-approved",
            "add to changelog"
        ]
    },
    {
        "number": 86865,
        "title": "Alerting: Improve error when receiver or time interval used by rule is deleted",
        "body": "**What is this feature?**\r\n\r\nImproves the error message when attempting to delete a contact point or time interval that is not used in a notification policy but is used by a rule in simplified routing.\r\n\r\n**Why do we need this feature?**\r\n\r\nThe old error message is ambiguous and not easily actionable from the description.\r\n\r\n**Who is this feature for?**\r\n\r\nUsers of simplified routing.\r\n\r\n[Peek 2024-04-24 11-04.webm](https://github.com/grafana/grafana/assets/8484471/3b098434-47b1-41e6-854b-c02fa29424a6)\r\n\r\nError response:\r\n\r\n```json\r\n{\r\n  \"extra\": {\r\n    \"Receiver\": \"slack testing\"\r\n  },\r\n  \"message\": \"receiver [Name: slack testing] is used by rule\",\r\n  \"messageId\": \"alerting.notifications.alertmanager.receiverInUse\",\r\n  \"statusCode\": 400,\r\n  \"traceID\": \"\"\r\n}\r\n```\r\n",
        "labels": [
            "no-changelog",
            "area/alerting",
            "backport v11.0.x",
            "area/backend",
            "product-approved"
        ]
    },
    {
        "number": 86336,
        "title": "[v11.0.x] Update dependency eslint-plugin-jsdoc to v48.2.2",
        "body": "Backport d2276212175336f1182a036a6ead848eaac924e0 from #85328\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [eslint-plugin-jsdoc](https://togithub.com/gajus/eslint-plugin-jsdoc) | [`48.2.1` -> `48.2.2`](https://renovatebot.com/diffs/npm/eslint-plugin-jsdoc/48.2.1/48.2.2) | [![age](https://developer.mend.io/api/mc/badges/age/npm/eslint-plugin-jsdoc/48.2.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/eslint-plugin-jsdoc/48.2.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/eslint-plugin-jsdoc/48.2.1/48.2.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/eslint-plugin-jsdoc/48.2.1/48.2.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>gajus/eslint-plugin-jsdoc (eslint-plugin-jsdoc)</summary>\n\n### [`v48.2.2`](https://togithub.com/gajus/eslint-plugin-jsdoc/releases/tag/v48.2.2)\n\n[Compare Source](https://togithub.com/gajus/eslint-plugin-jsdoc/compare/v48.2.1...v48.2.2)\n\n##### Bug Fixes\n\n-   add TS `import` tag; fixes [#&#8203;1218](https://togithub.com/gajus/eslint-plugin-jsdoc/issues/1218) ([9e9fed5](https://togithub.com/gajus/eslint-plugin-jsdoc/commit/9e9fed5000fd3f3d55ad2677817af1a7b1ee3115))\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Enabled.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86334,
        "title": "[v11.0.x] Update dependency stylelint-config-sass-guidelines to v11.1.0",
        "body": "Backport ad1b60e6510f5e645faac7f94836dbf649531142 from #85291\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [stylelint-config-sass-guidelines](https://togithub.com/bjankord/stylelint-config-sass-guidelines) | [`11.0.0` -> `11.1.0`](https://renovatebot.com/diffs/npm/stylelint-config-sass-guidelines/11.0.0/11.1.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/stylelint-config-sass-guidelines/11.1.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/stylelint-config-sass-guidelines/11.1.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/stylelint-config-sass-guidelines/11.0.0/11.1.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/stylelint-config-sass-guidelines/11.0.0/11.1.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>bjankord/stylelint-config-sass-guidelines (stylelint-config-sass-guidelines)</summary>\n\n### [`v11.1.0`](https://togithub.com/bjankord/stylelint-config-sass-guidelines/blob/HEAD/CHANGELOG.md#1110)\n\n[Compare Source](https://togithub.com/bjankord/stylelint-config-sass-guidelines/compare/v11.0.0...v11.1.0)\n\nFull list of changes can be [viewed here](https://togithub.com/bjankord/stylelint-config-sass-guidelines/compare/v11.0.0...v11.1.0)\n\n##### Changed\n\n-   Replaced deprecated `scss/at-import-partial-extension-blacklist` with `scss/at-import-partial-extension-disallowed-list` rule. [PR](https://togithub.com/bjankord/stylelint-config-sass-guidelines/pull/317)\n-   Modernized unit test to use node:test. [PR](https://togithub.com/bjankord/stylelint-config-sass-guidelines/pull/318)\n-   Minor depedency updates\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86689,
        "title": "[v11.0.x] LDAP: Fix listing all non-matching groups",
        "body": "Backport 6ab9dcde8d8fd3cfd3414beed4e988255fe45307 from #86682\n\n---\n\n**What is this feature?**\r\nList all of the non-matching groups on the LDAP admin page.\r\n\r\n**Why do we need this feature?**\r\nhttps://github.com/grafana/grafana/pull/80291 introduced a small bug and only the first \"non-matching\" LDAP group were shown on the UI.\r\n\r\n**Who is this feature for?**\r\n\r\n[Add information on what kind of user the feature is for.]\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nFixes #84123 \r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "type/bug",
            "backport",
            "area/auth",
            "area/auth/ldap",
            "add to changelog"
        ]
    },
    {
        "number": 86673,
        "title": "[v11.0.x] Alerting: Fix max_alerts field handling",
        "body": "Backport 1b930c341db0b8bc46c8793cc2415f67fc4cbfb9 from #86651\n\n---\n\n**What is this feature?**\r\nThis PR fixes external Alertmanager `max_alerts` options handling\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/alerting",
            "backport",
            "missing-labels"
        ]
    },
    {
        "number": 86292,
        "title": "[v11.0.x] Update dependency xss to v1.0.15",
        "body": "Backport 869a7c8e15ebf5617958336af52e8566c2837e53 from #85215\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [xss](https://togithub.com/leizongmin/js-xss) | [`1.0.14` -> `1.0.15`](https://renovatebot.com/diffs/npm/xss/1.0.14/1.0.15) | [![age](https://developer.mend.io/api/mc/badges/age/npm/xss/1.0.15?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/xss/1.0.15?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/xss/1.0.14/1.0.15?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/xss/1.0.14/1.0.15?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>leizongmin/js-xss (xss)</summary>\n\n### [`v1.0.15`](https://togithub.com/leizongmin/js-xss/blob/HEAD/CHANGELOG.md#v1015-2024-03-03)\n\n[Compare Source](https://togithub.com/leizongmin/js-xss/compare/v1.0.14...v1.0.15)\n\n-   [feat: add `<kbd>` to default whitelist](https://togithub.com/leizongmin/js-xss/pull/279) by [@&#8203;rayrny](https://togithub.com/rayrny)\n-   [feat: single-quoted attribute value syntax support](https://togithub.com/leizongmin/js-xss/pull/287) by [@&#8203;mdk000](https://togithub.com/mdk000)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled because a matching PR was automerged previously.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86479,
        "title": "DashboardScene: Fixes deleting dirty dashboard",
        "body": "Fixes issue deleting a modified dashboard would show a \"Unsaved changes\" modal and not redirect you to the \"/\" (you stay on the deleted dashboard).\r\n\r\n<img width=\"937\" alt=\"Screenshot 2024-04-18 at 14 41 01\" src=\"https://github.com/grafana/grafana/assets/10999/c9abf4cb-3dd9-4e6e-8c5c-5ffcbbd86a2d\">\r\n",
        "labels": [
            "area/frontend",
            "add to changelog",
            "type/bug",
            "backport v11.0.x"
        ]
    },
    {
        "number": 86615,
        "title": "docs: update flame graph visualization",
        "body": "**What is this feature?**\r\n\r\nUpdates to the flame graph docs to include:\r\n- how to configure a flame graph (video TBA)\r\n- when to use a flame graph\r\n- rearranging sections to match other visualization types\r\n\r\n**Why do we need this feature?**\r\n\r\nTo explain to our users how to configure a flame graph easily and when to use it.\r\n\r\n**Who is this feature for?**\r\n\r\nGrafana OSS and Cloud users\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [x] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.3.x",
            "backport v10.4.x",
            "backport v10.2.x"
        ]
    },
    {
        "number": 87063,
        "title": "Auth: Sign sigV4 request after adding headers",
        "body": "In [this commit](https://github.com/grafana/grafana/pull/81662) a middleware that adds a header was added to the client provider, however we need to do the sigv4 signature after all headers have been added. This pr moves the signature to the end of the middlewares and adds a comment to avoid this issue in the future.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nRelated to https://github.com/grafana/support-escalations/issues/10228\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "backport v11.0.x",
            "add to changelog",
            "type/bug",
            "area/backend"
        ]
    },
    {
        "number": 87316,
        "title": "DashboardScene: Restrict dashboard in read only state",
        "body": "In order to fix this for G11 a temporary solution of `Make Editable` button was introduced and few safeguards around that.\r\n\r\nFixes #87169\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport v11.0.x",
            "internal",
            "backport-failed"
        ]
    },
    {
        "number": 85215,
        "title": "Update dependency xss to v1.0.15",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [xss](https://togithub.com/leizongmin/js-xss) | [`1.0.14` -> `1.0.15`](https://renovatebot.com/diffs/npm/xss/1.0.14/1.0.15) | [![age](https://developer.mend.io/api/mc/badges/age/npm/xss/1.0.15?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/xss/1.0.15?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/xss/1.0.14/1.0.15?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/xss/1.0.14/1.0.15?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>leizongmin/js-xss (xss)</summary>\n\n### [`v1.0.15`](https://togithub.com/leizongmin/js-xss/blob/HEAD/CHANGELOG.md#v1015-2024-03-03)\n\n[Compare Source](https://togithub.com/leizongmin/js-xss/compare/v1.0.14...v1.0.15)\n\n-   [feat: add `<kbd>` to default whitelist](https://togithub.com/leizongmin/js-xss/pull/279) by [@&#8203;rayrny](https://togithub.com/rayrny)\n-   [feat: single-quoted attribute value syntax support](https://togithub.com/leizongmin/js-xss/pull/287) by [@&#8203;mdk000](https://togithub.com/mdk000)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled because a matching PR was automerged previously.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 85210,
        "title": "CloudWatch : Add missing AWS/ES metrics",
        "body": "**What is this feature?**\r\n\r\nThis PR adds two missing `AWS/ES` metrics, which are hidden from the docs, bu available in cloudwatch.\r\n\r\n**Why do we need this feature?**\r\n\r\nNeed the metrics added for a customer.\r\n\r\n**Who is this feature for?**\r\n\r\nCloudWatch datasource and integration users.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nRelated to https://github.com/grafana/support-escalations/issues/9867\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "datasource/CloudWatch",
            "backport v11.0.x",
            "area/backend",
            "product-approved",
            "add to changelog"
        ]
    },
    {
        "number": 86757,
        "title": "[v11.0.x] DashboardScene: Fixes deleting dirty dashboard",
        "body": "Backport 835b968b086a99fd6615cdbc78f848563945e693 from #86479\n\n---\n\nFixes issue deleting a modified dashboard would show a \"Unsaved changes\" modal and not redirect you to the \"/\" (you stay on the deleted dashboard).\r\n\r\n<img width=\"937\" alt=\"Screenshot 2024-04-18 at 14 41 01\" src=\"https://github.com/grafana/grafana/assets/10999/c9abf4cb-3dd9-4e6e-8c5c-5ffcbbd86a2d\">\r\n",
        "labels": [
            "area/frontend",
            "add to changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 87572,
        "title": "[v11.0.x] Alerting: Add two sets of provisioning actions for rules and notifications ",
        "body": "Backport 356a29592be6c5fe5de81138f6a55e03a8cdfac2 from #87149\n\n---\n\n<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\nThis PR adds two new sets of permissions that let administrators create custom roles to grant access to provisioning alert rules and notification configurations separately.\r\nIt does not replace already existing permissions.\r\n\r\n**Why do we need this feature?**\r\nTo allow Grafana Enterprise users to grant access to rules API but not notifications provisioning APIs\r\n\r\n**Who is this feature for?**\r\n\r\n**Special notes for your reviewer:**\r\nThe new actions are not exposed independently. To test, you need to create a new custom role. \r\n<details><summary>Example API Call</summary>\r\n\r\n```bash\r\ncurl --location 'http://localhost:3000/api/access-control/roles' \\\r\n--header 'Content-Type: application/json' \\\r\n--header 'Authorization: Basic YWRtaW46YWRtaW4=' \\\r\n--data '{\r\n    \"version\": 1,\r\n    \"name\": \"custom:alerting_rule_provisioner\",\r\n    \"displayName\": \"Alert Rules Provisioner\",\r\n    \"description\": \"Access only alert rule provisioning API\",\r\n    \"group\":\"Alerting\",\r\n    \"permissions\": [\r\n        {\r\n            \"action\": \"alert.rules.provisioning:read\"\r\n        },\r\n        {\r\n            \"action\": \"alert.rules.provisioning:write\"\r\n        }\r\n    ]\r\n}\r\n'\r\n```\r\n</details>\r\nThen you can create a test user \r\n<details><summary>Example API Call</summary>\r\n\r\n```bash\r\ncurl --location 'http://localhost:3000/api/admin/users' \\\r\n--header 'Content-Type: application/json' \\\r\n--header 'Authorization: Basic YWRtaW46YWRtaW4=' \\\r\n--data-raw '{\r\n    \"name\": \"test\",\r\n    \"email\": \"test@example.com\",\r\n    \"login\": \"test\",\r\n    \"password\": \"test\"\r\n}'\r\n```\r\n</details>\r\n\r\nand then assign the new role to the user  (user Id and role UID need to be replaced with values from responses)\r\n\r\n<details><summary>Example API Call</summary>\r\n\r\n```bash\r\ncurl --location --request PUT 'http://localhost:3000/api/access-control/users/2/roles' \\\r\n--header 'Content-Type: application/json' \\\r\n--header 'Authorization: Basic YWRtaW46YWRtaW4=' \\\r\n--data '{\"orgId\":1,\"roleUids\":[\"bdl6zemr9r9xcd\"]}'\r\n```\r\n</details>\r\n\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/alerting",
            "area/backend",
            "backport",
            "product-approved",
            "area/auth/rbac",
            "add to changelog"
        ]
    },
    {
        "number": 86682,
        "title": "LDAP: Fix listing all non-matching groups",
        "body": "**What is this feature?**\r\nList all of the non-matching groups on the LDAP admin page.\r\n\r\n**Why do we need this feature?**\r\nhttps://github.com/grafana/grafana/pull/80291 introduced a small bug and only the first \"non-matching\" LDAP group were shown on the UI.\r\n\r\n**Who is this feature for?**\r\n\r\n[Add information on what kind of user the feature is for.]\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nFixes #84123 \r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "type/bug",
            "backport v11.0.x",
            "area/auth",
            "area/auth/ldap",
            "backport v10.4.x",
            "add to changelog"
        ]
    },
    {
        "number": 86299,
        "title": "[v11.0.x] Dashboard scenes: Export isExpressionReference to be accessible from scenes",
        "body": "Backport b7156ef2c2f3a82c957e782250680c4291cdb95a from #85228\n\n---\n\n**What is this feature?**\r\n Exports isExpressionReference so that scenes can identify if a datasource is an expression.",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 86961,
        "title": "Home dashboard test",
        "body": "Small test for https://github.com/grafana/grafana/pull/86786",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport v11.0.x",
            "area/dashboard"
        ]
    },
    {
        "number": 87269,
        "title": "[v11.0.x] docs: update flame graph visualization",
        "body": "Backport 7db41222c6bfc9ad4fb69ca58245528239d3b995 from #86615\n\n---\n\n**What is this feature?**\r\n\r\nUpdates to the flame graph docs to include:\r\n- how to configure a flame graph (video TBA)\r\n- when to use a flame graph\r\n- rearranging sections to match other visualization types\r\n\r\n**Why do we need this feature?**\r\n\r\nTo explain to our users how to configure a flame graph easily and when to use it.\r\n\r\n**Who is this feature for?**\r\n\r\nGrafana OSS and Cloud users\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [x] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 87300,
        "title": "[v11.0.x] Alerting: Fix max alerts",
        "body": "Backport 12fa9e56e6a64d1c3a1fb8ab81f999695120e6e1 from #87271\n\n---\n\nFixes a small regression from https://github.com/grafana/grafana/pull/86651 that would not allow creating or updating webhook receivers if `max alerts` was empty.\r\n\r\nIn the scenario where the user did not fill in the field, `setValueAs` would return `NaN` and this in turn would fail the `validationRule` regular expression.\r\n\r\nThis PR changes the behaviour to cast to a Number with the `Number` constructor (which returns `0` on `undefined | \"\"`) but can still return `NaN` \u2013 so we also check if the result is finite.\r\n\r\n<img width=\"639\" alt=\"image\" src=\"https://github.com/grafana/grafana/assets/868844/0fbc2aa5-bbff-44e0-8a37-f6a6e42bdb4c\">\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "area/alerting",
            "backport",
            "product-approved"
        ]
    },
    {
        "number": 86269,
        "title": "[v11.0.x] Update dependency eslint-scope to v8.0.1",
        "body": "Backport 98eec74483abf57039dec240a56dc4e5ba3ab9da from #85199\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [eslint-scope](https://togithub.com/eslint/eslint-scope) | [`8.0.0` -> `8.0.1`](https://renovatebot.com/diffs/npm/eslint-scope/8.0.0/8.0.1) | [![age](https://developer.mend.io/api/mc/badges/age/npm/eslint-scope/8.0.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/eslint-scope/8.0.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/eslint-scope/8.0.0/8.0.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/eslint-scope/8.0.0/8.0.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>eslint/eslint-scope (eslint-scope)</summary>\n\n### [`v8.0.1`](https://togithub.com/eslint/eslint-scope/blob/HEAD/CHANGELOG.md#801-2024-03-20)\n\n[Compare Source](https://togithub.com/eslint/eslint-scope/compare/v8.0.0...v8.0.1)\n\n##### Documentation\n\n-   document Security Policy ([#&#8203;122](https://togithub.com/eslint/eslint-scope/issues/122)) ([0d03700](https://togithub.com/eslint/eslint-scope/commit/0d0370035c3fcd3846bcfed25e2de1c90c204cc8))\n\n##### Chores\n\n-   switch to eslint flat config ([#&#8203;121](https://togithub.com/eslint/eslint-scope/issues/121)) ([59b1606](https://togithub.com/eslint/eslint-scope/commit/59b160624bd725a1254024bcbbd28b7529c04c64))\n-   upgrade espree@10.0.1, eslint-visitor-keys@4.0.0 ([#&#8203;119](https://togithub.com/eslint/eslint-scope/issues/119)) ([6f95a94](https://togithub.com/eslint/eslint-scope/commit/6f95a9406e321ba519bbf635ebb8b1ae4b8861e7))\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Enabled.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 87143,
        "title": "[v11.0.x] Alerting: Also fix HCL field name for MuteTimeIntervals",
        "body": "Backport 93519f70ca166913d01f46cfa1065d4ca88260d8 from #87079\n\n---\n\n**What is this feature?**\r\n\r\nThis PR is related to #87065, and corrects the HCL field name for mute time intervals.\r\n\r\n**Why do we need this feature?**\r\n\r\nBrings HCL export output in line with Terraform provider schema.\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "area/alerting",
            "backport"
        ]
    },
    {
        "number": 86797,
        "title": "[v11.0.x] Navigation: Add a return to previous button when navigating to different sections",
        "body": "Backport 2fb38a34ac93655d756e26ec49432f6f1a3e22ea from #86764\r\n\r\n---\r\n\r\n**What is this feature?**\r\n\r\nWe enabled `ReturnToPrevious` by default.\r\n\r\n**Why do we need this feature?**\r\n\r\nWe can move forward with the project. The next move will be to remove the feature toggle.\r\n\r\n**Who is this feature for?**\r\n\r\nEverybody\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\nRelated to https://github.com/grafana/grafana/issues/77699\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "type/docs",
            "type/feature-toggle-enable",
            "area/backend",
            "backport",
            "add to changelog"
        ]
    },
    {
        "number": 86742,
        "title": "[v11.0.x] Dashboard scenes: fix textbox value only set to first character of default value",
        "body": "Backport dccad4e0811132e9d992e07faa4ad2048d50f2d3 from #86595\n\n---\n\n**What is this feature?**\r\nThis fixes the issue where only the first character of the default value is set in the textbox.\r\n\r\nThe type of the value can be either a string or an array of strings. The code assumed it would always be an array of strings.\r\n\r\nThere is a bit of weirdness guarding against current.value being undefined and using query instead. Couldn't figure out why/if this was needed, so decided to leave it in place.\r\n\r\n**Which issue(s) does this PR fix?**:\r\nFixes #86435",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport",
            "area/dashboard"
        ]
    },
    {
        "number": 87060,
        "title": "Chore: Remove extra sql select from the Insert function of userimpl.store",
        "body": "**What is this feature?**\r\nThis PR removes the extra sql `select` from after the tx in the Insert function of the user store.\r\n\r\n**Why do we need this feature?**\r\nThe `getAnyUserType` seems to be unnecessary, because `cmd.ID` is set from within the transaction. Besides, in load-balanced scenarios the sql `select` can be routed to a replica that doesn't have the latest data from the primary which causes the `Insert` function to error out.\r\n\r\n**Who is this feature for?**\r\n\r\n[Add information on what kind of user the feature is for.]\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "area/backend/user",
            "backport v11.0.x",
            "backport-failed",
            "backport v10.4.x",
            "team/identity-access"
        ]
    },
    {
        "number": 86200,
        "title": "[v11.0.x] Changelog: Updated changelog for 10.2.6",
        "body": "Backport ee4ac983b2d7f8207c2f7dcca0c74bc4255271a7 from #85171",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86595,
        "title": "Dashboard scenes: fix textbox value only set to first character of default value",
        "body": "**What is this feature?**\r\nThis fixes the issue where only the first character of the default value is set in the textbox.\r\n\r\nThe type of the value can be either a string or an array of strings. The code assumed it would always be an array of strings.\r\n\r\nThere is a bit of weirdness guarding against current.value being undefined and using query instead. Couldn't figure out why/if this was needed, so decided to leave it in place.\r\n\r\n**Which issue(s) does this PR fix?**:\r\nFixes #86435",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport v11.0.x",
            "area/dashboard"
        ]
    },
    {
        "number": 87024,
        "title": "[v11.0.x] Home dashboard test",
        "body": "Backport 8705e03d5792e85f7400fbeb1dbf7dc4230df8e3 from #86961\n\n---\n\nSmall test for https://github.com/grafana/grafana/pull/86786",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport",
            "area/dashboard"
        ]
    },
    {
        "number": 87631,
        "title": "AuthN: Fix signout redirect url",
        "body": "**What is this feature?**\r\nAfter https://github.com/grafana/grafana/pull/79635 we did not respect `signout_redirect_url` configured under `[auth]`. It only worked with saml and oauth.\r\n\r\nTo fix this we instead default to use `signout_redirect_url` if configured. A client that implement `LogoutClient` will still take precedence. We also need to ignore the case when users don't have a session token so that the configured redirect url is used.\r\n\r\n\r\n\r\n\r\n**Which issue(s) does this PR fix?**:\r\nFixes #85128\r\nFixes #84108\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "type/bug",
            "backport v11.0.x",
            "area/backend",
            "backport v10.4.x",
            "add to changelog"
        ]
    },
    {
        "number": 87022,
        "title": "[v11.0.x] Dashboard scenes: Fix min interval not saving",
        "body": "Backport fdc102358659385b1643de961a8ed0e2428e682a from #86962\n\n---\n\n**What is this feature?**\r\nFixes a bug where min interval is not saved or used in scenes.\r\n\r\nFixes #86943",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 86196,
        "title": "[v11.0.x] Changelog: Updated changelog for 10.0.13",
        "body": "Backport b47dc7e8ace3d429c54aed7d52003adc7dacdceb from #85163",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 87003,
        "title": "[v11.0.x] DataTrails: Exploring alternatives to history issues",
        "body": "Backport c965c279943b12bf27598e736a8ec1a2420174f1 from #86843\n\n---\n\n\r\n* [x] Fixes issues with time range changes modifying the history step (https://github.com/grafana/grafana/pull/86741)\r\n* [x] Fixes issues with filters modifying a history step  (https://github.com/grafana/grafana/pull/86817) \r\n\r\nBoth were easy to fix as we did not clone the state when we restored state from a history state but used it directly. \r\n\r\n* [x] Tried fixing missing URL sync issues (selected tab no longer synced to URL) by restoring URL sync. Can't recall the reasons for only doing manual URL sync when switching history step.\r\n* [x]\u00a0Some minor code cleanup \r\n\r\nStill the major problem that is annoying me is that we create history step before queries complete, so the history step is really missing the \"lastest state\". But because the state changed event happen after the state change has occurred we cannot really use the latest state to create the previous step (which would be ideal as it would then include all the query results). Not sure how to fix that yet. \r\n\r\nTODO\r\n* [x] Update unit tests,  could need help with this\r\n ",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 86300,
        "title": "[v11.0.x] Update dependency date-fns to v3.6.0",
        "body": "Backport c7b4427151e5aab2f3c9b4dc85051812c7ddfaa0 from #85243\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [date-fns](https://togithub.com/date-fns/date-fns) | [`3.5.0` -> `3.6.0`](https://renovatebot.com/diffs/npm/date-fns/3.5.0/3.6.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/date-fns/3.6.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/date-fns/3.6.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/date-fns/3.5.0/3.6.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/date-fns/3.5.0/3.6.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>date-fns/date-fns (date-fns)</summary>\n\n### [`v3.6.0`](https://togithub.com/date-fns/date-fns/blob/HEAD/CHANGELOG.md#v360---2024-03-18)\n\n[Compare Source](https://togithub.com/date-fns/date-fns/compare/v3.5.0...v3.6.0)\n\nOn this release worked [@&#8203;kossnocorp](https://togithub.com/kossnocorp) and [@&#8203;world1dan](https://togithub.com/world1dan). Also, thanks to [@&#8203;seated](https://togithub.com/seated) [for sponsoring me](https://togithub.com/sponsors/kossnocorp).\n\n##### Fixed\n\n-   [Fixed weeks in the Belarisuan locale's `formatDistance`.](https://togithub.com/date-fns/date-fns/pull/3720)\n\n##### Added\n\n-   [Added CDN versions of modules compatible with older browsers.](https://togithub.com/date-fns/date-fns/pull/3737) [See the CDN guide.](https://date-fns.org/docs/CDN)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 85228,
        "title": "Dashboard scenes: Export isExpressionReference to be accessible from scenes",
        "body": "**What is this feature?**\r\n Exports isExpressionReference so that scenes can identify if a datasource is an expression.",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport v11.0.x"
        ]
    },
    {
        "number": 86326,
        "title": "[v11.0.x] Scopes: Add Filtering for ScopeDashoardBinding and Update Prometheus for ScopeFilterOperator Changes",
        "body": "Backport 136f8e6f0cdfc32da2b224fa1a01923332416dbb from #85284\n\n---\n\n**What is this feature?**\r\n\r\n - Like https://github.com/grafana/grafana/pull/85169 but taking https://github.com/grafana/grafana/pull/84955 into account which renames `ScopeDashboard` to `ScopeDashboardBinding` (Additionally updates `ResourseInfo` to follow new name which was missed)\r\n - Updates Prometheus to use the new ScopeFilterOperators that were also changed in https://github.com/grafana/grafana/pull/84955 (e.g. `=` becomes `equals`)\r\n\r\n**Special notes for your reviewer:**\r\n\r\n - New example url (where with `scope=whatev` whatev is the name (generatedName) of the scope: `/apis/scope.grafana.app/v0alpha1/namespaces/default/scopedashboardbindings?fieldSelector=spec.scope%3Dwhatev`\r\n - [ ] Question: I should be adding binding the name as well so the name changes in the API as well yes?\r\n - [x] I haven't verified if the FE is sending the new FilterOperator values when sending the scope in queries yet or not?\r\n \r\nExample ScopeDashboardBinding creation:\r\n```\r\n###\r\nPOST http://admin:admin@localhost:3000/apis/scope.grafana.app/v0alpha1/namespaces/default/scopedashboardbindings\r\nContent-Type: application/json\r\nAccept: application/json\r\n\r\n{\r\n  \"apiVersion\": \"scope.grafana.app/v0alpha1\",\r\n  \"kind\": \"ScopeDashboardBinding\",\r\n  \"metadata\": {\r\n    \"generateName\": \"sdb\"\r\n  },\r\n  \"spec\": {\r\n    \"dashboards\": [\"myID\"],\r\n    \"scope\": \"fancyScope123\"\r\n  }\r\n}\r\n```\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "area/backend",
            "backport",
            "product-approved",
            "area/scopes"
        ]
    },
    {
        "number": 87312,
        "title": "sql expressions - Backport 87263 to v11.0.x",
        "body": "sql expressions - parser support joins",
        "labels": [
            "no-changelog",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 86351,
        "title": "[v11.0.x] Docs: Add capture_timeout option",
        "body": "Backport ce57ce4125e3c7b282442939e3b98b08bacb8d5a from #85340\n\n---\n\nThis PR adds a description for the `capture_timeout` option under the `screenshots` section.",
        "labels": [
            "no-changelog",
            "type/docs",
            "area/alerting",
            "backport",
            "product-approved"
        ]
    },
    {
        "number": 86962,
        "title": "Dashboard scenes: Fix min interval not saving",
        "body": "**What is this feature?**\r\nFixes a bug where min interval is not saved or used in scenes.\r\n\r\nFixes #86943",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport v11.0.x"
        ]
    },
    {
        "number": 87481,
        "title": "Azure data sources: Set selected config type before save",
        "body": "Triggers an onchange event for authType when loading the page and the auth type is null.\r\n\r\nThis fixes https://github.com/grafana/support-escalations/issues/10390",
        "labels": [
            "area/frontend",
            "type/bug",
            "backport v11.0.x",
            "datasource/Prometheus",
            "product-approved",
            "backport v10.3.x",
            "backport v10.4.x",
            "datasource/Azure",
            "datasource/MSSQL",
            "add to changelog",
            "backport v10.2.x"
        ]
    },
    {
        "number": 85291,
        "title": "Update dependency stylelint-config-sass-guidelines to v11.1.0",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [stylelint-config-sass-guidelines](https://togithub.com/bjankord/stylelint-config-sass-guidelines) | [`11.0.0` -> `11.1.0`](https://renovatebot.com/diffs/npm/stylelint-config-sass-guidelines/11.0.0/11.1.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/stylelint-config-sass-guidelines/11.1.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/stylelint-config-sass-guidelines/11.1.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/stylelint-config-sass-guidelines/11.0.0/11.1.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/stylelint-config-sass-guidelines/11.0.0/11.1.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>bjankord/stylelint-config-sass-guidelines (stylelint-config-sass-guidelines)</summary>\n\n### [`v11.1.0`](https://togithub.com/bjankord/stylelint-config-sass-guidelines/blob/HEAD/CHANGELOG.md#1110)\n\n[Compare Source](https://togithub.com/bjankord/stylelint-config-sass-guidelines/compare/v11.0.0...v11.1.0)\n\nFull list of changes can be [viewed here](https://togithub.com/bjankord/stylelint-config-sass-guidelines/compare/v11.0.0...v11.1.0)\n\n##### Changed\n\n-   Replaced deprecated `scss/at-import-partial-extension-blacklist` with `scss/at-import-partial-extension-disallowed-list` rule. [PR](https://togithub.com/bjankord/stylelint-config-sass-guidelines/pull/317)\n-   Modernized unit test to use node:test. [PR](https://togithub.com/bjankord/stylelint-config-sass-guidelines/pull/318)\n-   Minor depedency updates\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86357,
        "title": "[v11.0.x] JWT: Find login and email claims with JMESPATH",
        "body": "Backport e4250a72dbf2ae4384cc6a575884f67db30e0575 from #85305\n\n---\n\n**What is this feature?**\r\n\r\nThis feature will resolve login/username and email claims using JMESPath. This will allow us to use `rootClaim.subClaim.listOfEmails[0]`.\r\n\r\n**Why do we need this feature?**\r\n\r\nThis has been requested in the [past](https://github.com/grafana/grafana/issues/69451). However, this won't solve the issue for Google's JWT subclaim `gcip` since that needs to be parsed again.\r\n\r\nhttps://github.com/grafana/grafana/issues/75856\r\n\r\n**Who is this feature for?**\r\n\r\nIAM\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes https://github.com/grafana/grafana/issues/69451\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "area/backend",
            "backport",
            "product-approved"
        ]
    },
    {
        "number": 86563,
        "title": "[v11.0.x] Alerting: Fix simplified routing group by override",
        "body": "Backport 71445002b7061244cd08b4c180481248e262c309 from #86552\n\n---\n\n**What is this feature?**\r\n\r\nCustom group by overrides for simplified routing looked like they were generating correctly using `GroupByStr`, displaying correctly in exports and UI but the generated routes were actually missing required fields normally set during upstream Route [validation](https://github.com/grafana/alerting/blob/bc622368256dbf116357d232441b6d1ad6166363/definition/alertmanager_validation.go#L17-L23).\r\n\r\nThis fix ensures the missing fields `GroupBy` and `GroupByAll` are applied to the generated routes.\r\n\r\n**Why do we need this feature?**\r\n\r\nFor simplified routing group by overrides to function correctly.\r\n\r\n**Who is this feature for?**\r\n\r\nUsers of simplified routing.\r\n",
        "labels": [
            "type/bug",
            "area/backend",
            "area/alerting",
            "backport",
            "add to changelog"
        ]
    },
    {
        "number": 86560,
        "title": "[v11.0.x] InfluxDB: Fix interpolating field keys in influxql",
        "body": "Backport 842c8dd20667f7646b0989f7d7ba6f854b840c7b from #86401\n\n---\n\n**What is this feature?**\r\n\r\nImprove ability to interpolate field keys in `influxql` queries.\r\n\r\n**Why do we need this feature?**\r\n\r\nBetter interpolation\r\n\r\n**Who is this feature for?**\r\n\r\nInfluxDB influxQL query language\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nFixes https://github.com/grafana/grafana/issues/86208\r\n\r\n**Special notes for your reviewer:**\r\n### How to test\r\n- Have a template variable which has \"Multi value\" option enabled\r\n  - You can use `SHOW FIELD KEYS FROM cpu` as query\r\n- Have a panel with `influxql` and create the query as shown\r\n![image](https://github.com/grafana/grafana/assets/820946/e7073190-c555-4d54-9bda-dad2747aaabe)\r\n- Observe that the query returns nothing\r\n- Switch to this branch and try again\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport",
            "datasource/InfluxDB"
        ]
    },
    {
        "number": 87305,
        "title": "[v11.0.x] fix: sql expressions - sql parser table name case",
        "body": "Backport 4fd2cb601434bac80eaa7e7a6181e9b69c8fccb2 from #87196\n\n---\n\n**What is this fix?**\r\n\r\nFixes an issue with Sql expressions where the query ref name was being uppercased.  Uppercasing caused a mismatch between the table name and the key in vars.\r\n\r\n**Why do we need this feature?**\r\n\r\nFixes a bug with sql expressions.\r\n\r\n**Who is this feature for?**\r\n\r\nAnyone using Sql expressions\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 86800,
        "title": "Alerting: Allow deleting contact points referenced only by auto-generated policies",
        "body": "**What is this feature?**\r\n\r\nThis PR omits \"auto-generated\" policies from being counted as route references when determining if the contact point can be deleted, however this might result in a back-end request failure if an alert rule is using simplified routing with this contact point.\r\n\r\n**Comments for reviewers**\r\n\r\nWhen attempting to remove a contact point that is only linked to a auto-generated policy and has an alert rule point to it we receive the following error from the backend; can we have something more sensible here to show to the user?\r\n\r\n<img width=\"856\" alt=\"image\" src=\"https://github.com/grafana/grafana/assets/868844/6b811c51-21e6-4807-970f-d4ebd98b0a42\">",
        "labels": [
            "area/frontend",
            "type/bug",
            "area/alerting",
            "backport v11.0.x",
            "backport-failed",
            "add to changelog"
        ]
    },
    {
        "number": 86069,
        "title": "CloudMonitoring: Improve legacy query migrations",
        "body": "There were various issues with the query migrations that take place for Cloud Monitoring (particularly legacy queries).\r\n\r\nThis PR addresses those by ensuring the backend and frontend migrations are more closely aligned.\r\n\r\n- If a project is not defined in the frontend when the migration code is hit, the default project is used to ensure a query is not filtered unexpectedly. This matches the backend logic.\r\n- If a project is defined in a frontend legacy query it will be correctly migrated.\r\n- If the `metricType` property is defined in a legacy query it will be correctly migrated to the `filters` property.\r\n\r\nI've also cleaned up the migration effect as I found an edge case where a query would be migrated but then not actually used because another effect being called would wipe out the migrated query.\r\n\r\nAlso, updated the tests for these cases.\r\n\r\nFixes #70734 (there were two distinct issues in there but they've been bundled into one).",
        "labels": [
            "area/frontend",
            "datasource/GoogleCloudMonitoring",
            "type/bug",
            "backport v11.0.x",
            "backport v10.4.x",
            "add to changelog"
        ]
    },
    {
        "number": 87648,
        "title": "[v11.0.x] CloudMonitoring: Improve legacy query migrations",
        "body": "Backport 95667f6a534dc6f5cfda800e88e11149c72f847d from #86069\n\n---\n\nThere were various issues with the query migrations that take place for Cloud Monitoring (particularly legacy queries).\r\n\r\nThis PR addresses those by ensuring the backend and frontend migrations are more closely aligned.\r\n\r\n- If a project is not defined in the frontend when the migration code is hit, the default project is used to ensure a query is not filtered unexpectedly. This matches the backend logic.\r\n- If a project is defined in a frontend legacy query it will be correctly migrated.\r\n- If the `metricType` property is defined in a legacy query it will be correctly migrated to the `filters` property.\r\n\r\nI've also cleaned up the migration effect as I found an edge case where a query would be migrated but then not actually used because another effect being called would wipe out the migrated query.\r\n\r\nAlso, updated the tests for these cases.\r\n\r\nFixes #70734 (there were two distinct issues in there but they've been bundled into one).",
        "labels": [
            "area/frontend",
            "datasource/GoogleCloudMonitoring",
            "type/bug",
            "backport",
            "add to changelog"
        ]
    },
    {
        "number": 86241,
        "title": "[v11.0.x] docs: add thresholds play link",
        "body": "Backport f50e29e00420e90827fc2aaef1fdf8dda43444c3 from #86212\n\n---\n\npart of a series of PRs.",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86194,
        "title": "[v11.0.x] Changelog: Updated changelog for 9.5.18",
        "body": "Backport dd93d9958d8d421c145c29be0dd5c9adc08577bd from #85159",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86353,
        "title": "[v11.0.x] Loki: Fix test flake",
        "body": "Backport 0c78d80ef10b4e7fd52e06d613619370095537ff from #85356\n\n---\n\nFix test flake in LokiQueryField.tsx\r\n\r\nhttps://raintank-corp.slack.com/archives/C03E2AQKU2W/p1711627491382699",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "datasource/Loki"
        ]
    },
    {
        "number": 85340,
        "title": "Docs: Add capture_timeout option",
        "body": "This PR adds a description for the `capture_timeout` option under the `screenshots` section.",
        "labels": [
            "no-changelog",
            "type/docs",
            "area/alerting",
            "backport v11.0.x",
            "product-approved"
        ]
    },
    {
        "number": 86335,
        "title": "[v11.0.x] Update dependency @grafana/aws-sdk to v0.3.3",
        "body": "Backport 4854f10ee27f5a34d1da17770e92037094eafb92 from #85326\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@grafana/aws-sdk](https://togithub.com/grafana/grafana-aws-sdk-react) | [`0.3.2` -> `0.3.3`](https://renovatebot.com/diffs/npm/@grafana%2faws-sdk/0.3.2/0.3.3) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@grafana%2faws-sdk/0.3.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@grafana%2faws-sdk/0.3.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@grafana%2faws-sdk/0.3.2/0.3.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@grafana%2faws-sdk/0.3.2/0.3.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>grafana/grafana-aws-sdk-react (@&#8203;grafana/aws-sdk)</summary>\n\n### [`v0.3.3`](https://togithub.com/grafana/grafana-aws-sdk-react/blob/HEAD/CHANGELOG.md#v033)\n\n[Compare Source](https://togithub.com/grafana/grafana-aws-sdk-react/compare/020281496cec5f4497fa7da21de4f628b638050e...v0.3.3)\n\n-   Fix: broken ESM imports due to `src` in ESM build output path\n-   Fix: circular dependencies in components\n-   Fix: ESM builds importing entire react, grafana/ui, grafana/data, and grafana/experimental\n-   Refactor: prefer named exports over asterisk in barrel files\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 87154,
        "title": "[v11.0.x] Docs: Add thresholds shared content",
        "body": "Backport 406fe8c85a5722c5f405d745f018a6ca820d9caf from #87009\n\n---\n\nThis PR adds shared files for the thresholds options for visualizations. Two files have been added to cover the two most common sets of options. Using two shared files ensures two things:\r\n\r\n1. Content remains consistent across visualizations that share the same options\r\n2. Users reading about a visualization don't have to figure out which options don't apply to a specific visualization because they'll only be presented with the ones that apply.\r\n\r\nThis PR:\r\n\r\n- Adds and updates shared files for thresholds content (2)\r\n- Adds shared files to appropriate visualizations\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86390,
        "title": "Docs: change availability to public preview for v11",
        "body": "Changes feature availability to public preview for v11.0. Feature remains in private preview for v10.4.",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x"
        ]
    },
    {
        "number": 86553,
        "title": "Docs: add tooltips shared content",
        "body": "- Adds and updates shared files for tooltips content (2)\r\n- Renames `tooltip-mode.md` to `tooltip-options-1.md`\r\n- Adds shared files to appropriate visualizations\r\n- Adds standalone tooltips content to heatmap and xy chart docs\r\n- Adds **Max height** option to **Configure tooltips** page\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport-failed",
            "backport v10.4.x"
        ]
    },
    {
        "number": 86687,
        "title": "DashboardScene: Fixes issue with editing panels that uses instanceState",
        "body": "Fixes #86554\r\nFixes #86555\r\nFixes #86556\r\nFixes #86557\r\nFixes #86558\r\nFixes #86559\r\n\r\n\r\n",
        "labels": [
            "area/frontend",
            "type/bug",
            "backport v11.0.x",
            "backport-failed",
            "add to changelog"
        ]
    },
    {
        "number": 87197,
        "title": "Docs: add field overrides shared content",
        "body": "This PR adds a shared file with field override options for visualizations and adds that file to relevant visualizations.\r\n\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.3.x",
            "backport-failed",
            "backport v10.4.x"
        ]
    },
    {
        "number": 86630,
        "title": "[v11.0.x] Docs: Update example docs for `rename by regex`",
        "body": "Backport ad679c62c60efb51ab58829b7ff55e0fd4de3f59 from #86627\n\n---\n\n**What is this feature?**\r\n\r\nNeeded update to docs\r\n\r\n**Why do we need this feature?**\r\n\r\nDocs are important, m'cay?\r\n\r\n**Who is this feature for?**\r\n\r\nAll users\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/docs",
            "backport",
            "internal",
            "area/dataviz",
            "area/transformations"
        ]
    },
    {
        "number": 87531,
        "title": "Sql Expressions: use display name for sql tables (#87530)",
        "body": "Backport\r\n(cherry picked from commit 4b38253b2017f1ce273511f7009a3547e6e8ef22)\r\n",
        "labels": [
            "no-changelog",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 85311,
        "title": "Docs:  added note to RBAC doc from support escalation",
        "body": "This PR addresses the following support escalation:\r\n\r\nhttps://github.com/grafana/support-escalations/issues/8968",
        "labels": [
            "stale",
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.4.x"
        ]
    },
    {
        "number": 87374,
        "title": "[v11.0.x] Docs:  added note to RBAC doc from support escalation",
        "body": "Backport 57038e8dfa75db6dbb4c36aa32864fc53cd845c6 from #85311\n\n---\n\nThis PR addresses the following support escalation:\r\n\r\nhttps://github.com/grafana/support-escalations/issues/8968",
        "labels": [
            "stale",
            "type/docs",
            "no-changelog",
            "backport"
        ]
    },
    {
        "number": 86053,
        "title": "docs: update candlestick visualization",
        "body": "**What is this feature?**\r\n\r\nUpdates to the candlestick docs to include:\r\n- how to configure a candlestick (video TBA)\r\n- supported data formats and example\r\n- when to use a candlestick\r\n- play shortcode for candlestick\r\n\r\n**Why do we need this feature?**\r\n\r\nTo explain to our users how to configure a candlestick easily and when to use it.\r\n\r\n**Who is this feature for?**\r\n\r\nGrafana OSS and Cloud users\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [x] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.3.x",
            "backport-failed",
            "backport v10.4.x",
            "backport v10.2.x"
        ]
    },
    {
        "number": 86836,
        "title": "[v11.0.x] DashboardScene: Measure and report scene load time",
        "body": "Backport e7f40493e4ad6e76b888a239c09e59c2bb40c705 from #86267\n\n---\n\n**What is this feature?**\r\n\r\nThis reports the load time of scenes dashboards, similar to what we already do for old dashboards.",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport",
            "area/dashboard"
        ]
    },
    {
        "number": 87530,
        "title": "Sql Expressions: use display name for sql tables",
        "body": "bump duckdb wrapper.  uses display names, if exist, for sql tables.  instead of raw field names that aren't visible in the table results panel",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "backport",
            "backport v11.0.x",
            "backport-failed"
        ]
    },
    {
        "number": 86294,
        "title": "[v11.0.x] Update dependency @grafana/faro-web-sdk to v1.5.0",
        "body": "Backport 9787f19dc32a08f30e08dd363f07fac213d5fd15 from #85234\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@grafana/faro-web-sdk](https://togithub.com/grafana/faro-web-sdk) ([source](https://togithub.com/grafana/faro-web-sdk/tree/HEAD/packages/web-sdk)) | [`1.4.2` -> `1.5.0`](https://renovatebot.com/diffs/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@grafana%2ffaro-web-sdk/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@grafana%2ffaro-web-sdk/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>grafana/faro-web-sdk (@&#8203;grafana/faro-web-sdk)</summary>\n\n### [`v1.5.0`](https://togithub.com/grafana/faro-web-sdk/blob/HEAD/CHANGELOG.md#150)\n\n[Compare Source](https://togithub.com/grafana/faro-web-sdk/compare/v1.4.2...v1.5.0)\n\n-   Feat(`@grafana/faro-web-sdk`): Add responseStatus to performance events ([#&#8203;526](https://togithub.com/grafana/faro-web-sdk/issues/526)).\n-   Fix (`@grafana/faro-web-sdk`): Faro updates sessions in an infinite loop if DOM Storage is not\n    available ([#&#8203;519](https://togithub.com/grafana/faro-web-sdk/issues/519)).\n-   Feat (`@grafana/faro-react`): Support instrumenting React Router v6 data routers ([#&#8203;518](https://togithub.com/grafana/faro-web-sdk/issues/518)).\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86355,
        "title": "[v11.0.x] Explore: Nested Content Outline",
        "body": "Backport 649c456eab6024bb13eb0c38372454839fb7e9ff from #80688\n\n---\n\n**What is this feature?**\r\n\r\nAdds nesting to content outline menu\r\n\r\nUpdates: \r\n- [x] Replace the Expand icon\r\n- [x] Remove the word \"Collapse outline\"\r\n- [x] Truncate text in nav if the word exceeds the 160 px width\r\n- [x] Add connector line for nested items\r\n\r\n**Why do we need this feature?**\r\n\r\nTo allow a more granular approach to navigation. Users will be able to navigate to individual query rows inside queries. This especially useful when having mixed datasources. Also, in the future, other viz panels like logs can be available for more granular navigation (pined logs, etc.)\r\n\r\n**Demo**\r\n\r\nhttps://github.com/grafana/grafana/assets/58232930/b9e53b1e-1302-4d02-9080-1fd0e446d191\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nCloses #79799 \r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "area/explore"
        ]
    },
    {
        "number": 86198,
        "title": "[v11.0.x] Changelog: Updated changelog for 10.1.9",
        "body": "Backport da1ef0e1faaee0665ce0114a4a8eacf9bb0d61b7 from #85167",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86725,
        "title": "Docs: add snapshot deletion info",
        "body": "Adds directions for deleting existing snapshots",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.3.x",
            "backport v10.4.x",
            "backport v10.2.x"
        ]
    },
    {
        "number": 86514,
        "title": "[v11.0.x] docs: update heatmap visualization and add play links",
        "body": "Backport 8373fc3544dd85feb9dbe86cabaee9a679df1bf2 from #85926\n\n---\n\n**What is this feature?**\r\n\r\nUpdates to the heatmap docs to include:\r\n- how to configure a heatmap (video TBA)\r\n- supported data formats and example\r\n- when to use a heatmap\r\n\r\nSmall updates to state timeline and status history docs to include the play shortcodes.\r\n\r\n**Why do we need this feature?**\r\n\r\nTo explain to our users how to configure a heatmap easily and when to use it.\r\n\r\n**Who is this feature for?**\r\n\r\nGrafana OSS and Cloud users\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [x] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86701,
        "title": "[v11.0.x] docs: update candlestick visualization",
        "body": "Backport 50b285ac69659aca8651674dad30036d2a5f52fd from #86053\n\n---\n\n**What is this feature?**\r\n\r\nUpdates to the candlestick docs to include:\r\n- how to configure a candlestick (video TBA)\r\n- supported data formats and example\r\n- when to use a candlestick\r\n- play shortcode for candlestick\r\n\r\n**Why do we need this feature?**\r\n\r\nTo explain to our users how to configure a candlestick easily and when to use it.\r\n\r\n**Who is this feature for?**\r\n\r\nGrafana OSS and Cloud users\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [x] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86685,
        "title": "[v11.0.x] Dashboards: Check if dashboard.meta is undefined, if undefined handle redirect in dashboard scene.",
        "body": "Backport 12771e49fc13b4b6e7e073100c4f7d0f91d915a5 from #86674\n\n---\n\n**What is this feature?**\r\n\r\nFixes an issue with redirects. When we're doing a redirect, the DashboardDTO does not have meta. This causes the code to error out. \r\n\r\nShould be noted that with this change, we're always going to handle redirects with the redirect mechanism in scenes, even for editors.\r\n\r\nSimilar to: #86507",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport",
            "area/dashboard"
        ]
    },
    {
        "number": 85926,
        "title": "docs: update heatmap visualization and add play links",
        "body": "**What is this feature?**\r\n\r\nUpdates to the heatmap docs to include:\r\n- how to configure a heatmap (video TBA)\r\n- supported data formats and example\r\n- when to use a heatmap\r\n\r\nSmall updates to state timeline and status history docs to include the play shortcodes.\r\n\r\n**Why do we need this feature?**\r\n\r\nTo explain to our users how to configure a heatmap easily and when to use it.\r\n\r\n**Who is this feature for?**\r\n\r\nGrafana OSS and Cloud users\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [x] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.3.x",
            "backport-failed",
            "backport v10.4.x",
            "backport v10.2.x"
        ]
    },
    {
        "number": 86824,
        "title": "[v11.0.x] DashboardScene: Fixes issue with editing panels that uses instanceState",
        "body": "Backport b28e6bc5d8547eda9754dac94a3faa4bb340e360 from #86687\r\n\r\n---\r\n\r\nFixes #86554\r\nFixes #86555\r\nFixes #86556\r\nFixes #86557\r\nFixes #86558\r\nFixes #86559\r\n\r\n\r\n",
        "labels": [
            "area/frontend",
            "add to changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 86468,
        "title": "[v11.0.x] VizTooltip: Fix heatmap mode All",
        "body": "Backport 38fe9fcfd1316d0e07727a02938bf5f0d9864072 from #86463\n\n---\n\nBefore\r\n![heatmap_multi_before](https://github.com/grafana/grafana/assets/88068998/13530fab-dae7-4218-8280-605b87ea750b)\r\n\r\nAfter\r\n![heatmap_multi_after](https://github.com/grafana/grafana/assets/88068998/8594b31d-c734-4e0d-8c6f-8363b61f94da)\r\n\r\n\r\nFixes  https://github.com/grafana/grafana/issues/86457\r\n\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport",
            "area/tooltip",
            "area/panel/heatmap"
        ]
    },
    {
        "number": 85159,
        "title": "Changelog: Updated changelog for 9.5.18",
        "body": null,
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport-failed",
            "backport v9.5.x"
        ]
    },
    {
        "number": 85171,
        "title": "Changelog: Updated changelog for 10.2.6",
        "body": null,
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport-failed",
            "backport v10.2.x"
        ]
    },
    {
        "number": 86798,
        "title": "[v11.0.x] Chore: Fix CVE-2024-22363",
        "body": "Backport 709d78b8b513e28f642cb24d939a108e6956362a from #86738\n\n---\n\nFixes https://github.com/grafana/grafana/issues/85784",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 87297,
        "title": "[v11.0.x] InfluxDB: Support cardinality queries with backend mode",
        "body": "Backport 3317691615239d9818eb3cb45ccb65e8f8e0c1d3 from #87264\n\n---\n\n**What is this feature?**\r\n\r\nSupport of `CARDINALITY` [queries](https://docs.influxdata.com/influxdb/cloud/query-data/influxql/explore-schema/#show-field-key-cardinality) in influxql backend mode. Before this, we parse the result of those queries as usual no-time-column query like `show tag values`, `show tag keys`. But cardinality query response has only one value not multiple. That was causing having no value when they were queries via template variable editor. That wasn't the case for frontend mode. This PR is fixing this edge case. \r\n\r\nYes, that sounds confusing enough. Steps to reproduce it:\r\n- Spin up dev environment with influxDb and influxql\r\n- Have a dashboard and create a template variable with InfluxDB 2.x\r\n- Use query: `SHOW TAG VALUES CARDINALITY with key = \"name\"`\r\n- Observe you get no value back.\r\n- Create a dashboard panel and switch to the code mode \r\n- Paste the same query and run it.\r\n  - Use Format as `Table` or `Time Series`\r\n  - You'll get data back\r\n- Switch to this branch. Try all those again and see template variables are working.\r\n- To be extra sure, turn off backend mode `influxdbBackendMigration=false` and try all those without switching to this branch. The end result will be the same. \r\n\r\n**Who is this feature for?**\r\n\r\nInfluxDB influxql users\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "backport",
            "datasource/InfluxDB"
        ]
    },
    {
        "number": 86263,
        "title": "[v11.0.x] Dashboard: Migration -  Add public dashboard tag in the nav bar",
        "body": "Backport 40f1b2c92c43a5f3ff16ff5e68a3ea387baff8a2 from #86204\n\n---\n\n Fix public dashboard tag is missing in the nav bar when a dashboard has been shared as a public dashboard\r\n\r\n![image](https://github.com/grafana/grafana/assets/239999/92fb12b7-dfbb-46ca-bcea-1156c6a8b951)\r\n\r\nFixes: #84566 ",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 87263,
        "title": "fix: sql expressions parser with join",
        "body": "**What is this fix?**\r\n\r\nFix issue parsing tables out of from clause.\r\n\r\n\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "backport",
            "backport v11.0.x",
            "backport-failed"
        ]
    },
    {
        "number": 86306,
        "title": "[v11.0.x] Update dependency @grafana/faro-web-sdk to v1.5.0",
        "body": "Backport 176709683a3e5a32f9b2e407a0e74b5bae1f4f65 from #85235\r\n\r\n---\r\n\r\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\r\n\r\nThis PR contains the following updates:\r\n\r\n| Package | Change | Age | Adoption | Passing | Confidence |\r\n|---|---|---|---|---|---|\r\n| [@grafana/faro-web-sdk](https://togithub.com/grafana/faro-web-sdk) ([source](https://togithub.com/grafana/faro-web-sdk/tree/HEAD/packages/web-sdk)) | [`1.4.2` -> `1.5.0`](https://renovatebot.com/diffs/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@grafana%2ffaro-web-sdk/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@grafana%2ffaro-web-sdk/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\r\n\r\n---\r\n\r\n> [!WARNING]\r\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\r\n\r\n---\r\n\r\n### Release Notes\r\n\r\n<details>\r\n<summary>grafana/faro-web-sdk (@&#8203;grafana/faro-web-sdk)</summary>\r\n\r\n### [`v1.5.0`](https://togithub.com/grafana/faro-web-sdk/blob/HEAD/CHANGELOG.md#150)\r\n\r\n[Compare Source](https://togithub.com/grafana/faro-web-sdk/compare/v1.4.2...v1.5.0)\r\n\r\n-   Feat(`@grafana/faro-web-sdk`): Add responseStatus to performance events ([#&#8203;526](https://togithub.com/grafana/faro-web-sdk/issues/526)).\r\n-   Fix (`@grafana/faro-web-sdk`): Faro updates sessions in an infinite loop if DOM Storage is not\r\n    available ([#&#8203;519](https://togithub.com/grafana/faro-web-sdk/issues/519)).\r\n-   Feat (`@grafana/faro-react`): Support instrumenting React Router v6 data routers ([#&#8203;518](https://togithub.com/grafana/faro-web-sdk/issues/518)).\r\n\r\n</details>\r\n\r\n---\r\n\r\n### Configuration\r\n\r\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\r\n\r\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\r\n\r\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\r\n\r\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\r\n\r\n---\r\n\r\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\r\n\r\n---\r\n\r\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\r\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86297,
        "title": "[v11.0.x] Pa11y: Decrease error thresholds for PRs",
        "body": "Backport 6248bdda48e0d8388bffc9224b92915a41777374 from #85178\n\n---\n\n<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\n\r\nDecreases error thresholds for PRs, so we don't accidentally add a11y errors. Let me know if there is some caveat to this.\r\n\r\n\r\n",
        "labels": [
            "product-approved",
            "no-changelog",
            "backport"
        ]
    },
    {
        "number": 86333,
        "title": "[v11.0.x] Tempo: Show <1ms when durationMs not in response",
        "body": "Backport 8c770a283ebd257bff0283dd38df1c0bf7752b5a from #85267\n\n---\n\n**What is this feature?**\r\n\r\nShow <1ms when `durationMs` not in response.\r\n\r\n**Why do we need this feature?**\r\n\r\nSo the duration field is not blank. More context [here](https://github.com/grafana/grafana/issues/85252#issuecomment-2022652982).\r\n\r\n**Who is this feature for?**\r\n\r\nTempo users.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes https://github.com/grafana/grafana/issues/85252",
        "labels": [
            "area/frontend",
            "no-changelog",
            "datasource/Tempo",
            "type/bug",
            "backport",
            "area/datasource/frontend"
        ]
    },
    {
        "number": 86548,
        "title": "[v11.0.x] NodeGraph: Fix invisible arrow tips in Editor",
        "body": "Backport f3fcfad2c89ea06ab73dc34aeae0be7d1b55a28d from #86517\n\n---\n\nExactly a re-send of https://github.com/grafana/grafana/pull/84688, which didn't work with the CI, probably because i accidentally sent it from my fork's main/default branch instead of a regular branch.",
        "labels": [
            "area/frontend",
            "type/bug",
            "backport",
            "pr/external",
            "area/panel/node-graph",
            "add to changelog"
        ]
    },
    {
        "number": 85356,
        "title": "Loki: Fix test flake",
        "body": "Fix test flake in LokiQueryField.tsx\r\n\r\nhttps://raintank-corp.slack.com/archives/C03E2AQKU2W/p1711627491382699",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "datasource/Loki"
        ]
    },
    {
        "number": 86338,
        "title": "[v11.0.x] Update dependency webpack-assets-manifest to v5.2.1",
        "body": "Backport f5cd840dd04e20d753acd43bacbe2933a3b7a8af from #85331\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [webpack-assets-manifest](https://togithub.com/webdeveric/webpack-assets-manifest) | [`5.1.0` -> `5.2.1`](https://renovatebot.com/diffs/npm/webpack-assets-manifest/5.1.0/5.2.1) | [![age](https://developer.mend.io/api/mc/badges/age/npm/webpack-assets-manifest/5.2.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/webpack-assets-manifest/5.2.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/webpack-assets-manifest/5.1.0/5.2.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/webpack-assets-manifest/5.1.0/5.2.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>webdeveric/webpack-assets-manifest (webpack-assets-manifest)</summary>\n\n### [`v5.2.1`](https://togithub.com/webdeveric/webpack-assets-manifest/releases/tag/v5.2.1): 5.2.1\n\n[Compare Source](https://togithub.com/webdeveric/webpack-assets-manifest/compare/v5.2.0...v5.2.1)\n\n**Full Changelog**: https://github.com/webdeveric/webpack-assets-manifest/compare/v5.2.0...v5.2.1\n\n### [`v5.2.0`](https://togithub.com/webdeveric/webpack-assets-manifest/releases/tag/v5.2.0): 5.2.0\n\n[Compare Source](https://togithub.com/webdeveric/webpack-assets-manifest/compare/v5.1.0...v5.2.0)\n\n#### What's Changed\n\n-   Updated dependencies by [@&#8203;webdeveric](https://togithub.com/webdeveric) in [https://github.com/webdeveric/webpack-assets-manifest/pull/261](https://togithub.com/webdeveric/webpack-assets-manifest/pull/261)\n-   chore(deps): use `pnpm` by [@&#8203;webdeveric](https://togithub.com/webdeveric) in [https://github.com/webdeveric/webpack-assets-manifest/pull/265](https://togithub.com/webdeveric/webpack-assets-manifest/pull/265)\n-   Updated dependencies by [@&#8203;webdeveric](https://togithub.com/webdeveric) in [https://github.com/webdeveric/webpack-assets-manifest/pull/266](https://togithub.com/webdeveric/webpack-assets-manifest/pull/266)\n-   Added more properties to `asset.info` by [@&#8203;webdeveric](https://togithub.com/webdeveric) in [https://github.com/webdeveric/webpack-assets-manifest/pull/269](https://togithub.com/webdeveric/webpack-assets-manifest/pull/269)\n\n**Full Changelog**: https://github.com/webdeveric/webpack-assets-manifest/compare/v5.1.0...v5.2.0\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86255,
        "title": "[v11.0.x] DashboardScene: Fixes saving dashboard with angular panels ",
        "body": "Backport e15beab362ed2f8eb6c19c96fccc07619f50c031 from #86098\n\n---\n\nFixes #84578 ",
        "labels": [
            "area/frontend",
            "add to changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 86098,
        "title": "DashboardScene: Fixes saving dashboard with angular panels ",
        "body": "Fixes #84578 ",
        "labels": [
            "area/frontend",
            "add to changelog",
            "type/bug",
            "backport v11.0.x"
        ]
    },
    {
        "number": 87009,
        "title": "Docs: Add thresholds shared content",
        "body": "This PR adds shared files for the thresholds options for visualizations. Two files have been added to cover the two most common sets of options. Using two shared files ensures two things:\r\n\r\n1. Content remains consistent across visualizations that share the same options\r\n2. Users reading about a visualization don't have to figure out which options don't apply to a specific visualization because they'll only be presented with the ones that apply.\r\n\r\nThis PR:\r\n\r\n- Adds and updates shared files for thresholds content (2)\r\n- Adds shared files to appropriate visualizations\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.3.x",
            "backport-failed",
            "backport v10.4.x"
        ]
    },
    {
        "number": 86350,
        "title": "[v11.0.x] CloudMigration:  Add service to list all migrations",
        "body": "Backport 5b147d084775a10eabd4f605b636153725b0c423 from #85308\n\n---\n\n**What is this feature?**\r\nAdds the service to return all cloud migrations\r\n\r\nFixes https://github.com/grafana/grafana-operator-experience-squad/issues/709\r\n\r\nExample response running locally:\r\n![image](https://github.com/grafana/grafana/assets/34773040/8730f6ec-c64e-4045-95d2-242ebccc5017)\r\n\r\nNotes:\r\nIn ticket it was only required that we return the stack id for each migration, but since we have this struct already created to return migration information, I decided to use the same, so it is the same information across the same API (and there is no private information exposed)\r\n\r\n```golang\r\ntype CloudMigrationResponse struct {\r\n\tID      int64     `json:\"id\"`\r\n\tStack   string    `json:\"stack\"`\r\n\tCreated time.Time `json:\"created\"`\r\n\tUpdated time.Time `json:\"updated\"`\r\n}\r\n\r\n```\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [x] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "product-approved",
            "no-changelog",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 87632,
        "title": "[v11.0.x] Azure data sources: Set selected config type before save",
        "body": "Backport 5e19aa7bd1fe5c0f1b2818404ba8f5bd3d344037 from #87481\n\n---\n\nTriggers an onchange event for authType when loading the page and the auth type is null.\r\n\r\nThis fixes https://github.com/grafana/support-escalations/issues/10390",
        "labels": [
            "area/frontend",
            "type/bug",
            "datasource/Prometheus",
            "backport",
            "product-approved",
            "datasource/Azure",
            "datasource/MSSQL",
            "add to changelog"
        ]
    },
    {
        "number": 86358,
        "title": "[v11.0.x] Update dependency @swc/helpers to v0.5.8",
        "body": "Backport b155bc11a1f2aa5fe9170a45be7b958be680dc3f from #85327\r\n\r\n---\r\n\r\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\r\n\r\nThis PR contains the following updates:\r\n\r\n| Package | Change | Age | Adoption | Passing | Confidence |\r\n|---|---|---|---|---|---|\r\n| [@swc/helpers](https://swc.rs) ([source](https://togithub.com/swc-project/swc)) | [`0.5.7` -> `0.5.8`](https://renovatebot.com/diffs/npm/@swc%2fhelpers/0.5.7/0.5.8) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@swc%2fhelpers/0.5.8?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@swc%2fhelpers/0.5.8?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@swc%2fhelpers/0.5.7/0.5.8?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@swc%2fhelpers/0.5.7/0.5.8?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\r\n\r\n---\r\n\r\n> [!WARNING]\r\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\r\n\r\n---\r\n\r\n### Release Notes\r\n\r\n<details>\r\n<summary>swc-project/swc (@&#8203;swc/helpers)</summary>\r\n\r\n### [`v0.5.8`](https://togithub.com/swc-project/swc/compare/4c83dcc37058495ceeecd3ae225ed95df7cf0b6d...10ece99e0f28ccd6cfe0942e36d913721dbd3961)\r\n\r\n[Compare Source](https://togithub.com/swc-project/swc/compare/4c83dcc37058495ceeecd3ae225ed95df7cf0b6d...10ece99e0f28ccd6cfe0942e36d913721dbd3961)\r\n\r\n</details>\r\n\r\n---\r\n\r\n### Configuration\r\n\r\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\r\n\r\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\r\n\r\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\r\n\r\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\r\n\r\n---\r\n\r\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\r\n\r\n---\r\n\r\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\r\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 87249,
        "title": "[v11.0.x] Select: Fixes issue preserving search term (input) when selecting a value",
        "body": "Backport 281d785442dceba9c4161e449369388203d3e82b from #87013\n\n---\n\nFixes an issue with preserving the search query & filtering after selecting a value, even after doing the correct onInputChange implementation according to the react select docs it did not work as our middleware implementation did not take into account scenarios where we want to preserve the search query after selection and always cleared the \"hasInputValue\" state which sets filterOption to null which disabled search filtering.\r\n\r\nRelated to https://github.com/grafana/scenes/pull/709 \r\n\r\n",
        "labels": [
            "area/frontend",
            "add to changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 86275,
        "title": "[v11.0.x] Update dependency @floating-ui/react to v0.26.10",
        "body": "Backport 1df15a3a4c1dce9dd9734d990fa6c330301838e5 from #85181\r\n\r\n---\r\n\r\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\r\n\r\nThis PR contains the following updates:\r\n\r\n| Package | Change | Age | Adoption | Passing | Confidence |\r\n|---|---|---|---|---|---|\r\n| [@floating-ui/react](https://floating-ui.com/docs/react) ([source](https://togithub.com/floating-ui/floating-ui/tree/HEAD/packages/react)) | [`0.26.9` -> `0.26.10`](https://renovatebot.com/diffs/npm/@floating-ui%2freact/0.26.9/0.26.10) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@floating-ui%2freact/0.26.10?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@floating-ui%2freact/0.26.10?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@floating-ui%2freact/0.26.9/0.26.10?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@floating-ui%2freact/0.26.9/0.26.10?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\r\n\r\n---\r\n\r\n> [!WARNING]\r\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\r\n\r\n---\r\n\r\n### Release Notes\r\n\r\n<details>\r\n<summary>floating-ui/floating-ui (@&#8203;floating-ui/react)</summary>\r\n\r\n### [`v0.26.10`](https://togithub.com/floating-ui/floating-ui/blob/HEAD/packages/react/CHANGELOG.md#02610)\r\n\r\n[Compare Source](https://togithub.com/floating-ui/floating-ui/compare/@floating-ui/react@0.26.9...@floating-ui/react@0.26.10)\r\n\r\n##### Patch Changes\r\n\r\n-   fix(FloatingFocusManager): return focus to the first tabbable descendant of the reference element if the reference element itself is not focusable\r\n\r\n</details>\r\n\r\n---\r\n\r\n### Configuration\r\n\r\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\r\n\r\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\r\n\r\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\r\n\r\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\r\n\r\n---\r\n\r\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\r\n\r\n---\r\n\r\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\r\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86356,
        "title": "[v11.0.x] Panel: Description display event is reported multiple times",
        "body": "Backport 233f119037ffbf5f48376291991cfcaaa5ff9daa from #85283\n\n---\n\nFixes #82016 ",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 86291,
        "title": "[v11.0.x] Update dependency nanoid to v5.0.6",
        "body": "Backport 7df1f84c63e0e2cdfa62254daef684f7ce5ab10f from #85205\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [nanoid](https://togithub.com/ai/nanoid) | [`5.0.4` -> `5.0.6`](https://renovatebot.com/diffs/npm/nanoid/5.0.4/5.0.6) | [![age](https://developer.mend.io/api/mc/badges/age/npm/nanoid/5.0.6?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/nanoid/5.0.6?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/nanoid/5.0.4/5.0.6?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/nanoid/5.0.4/5.0.6?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>ai/nanoid (nanoid)</summary>\n\n### [`v5.0.6`](https://togithub.com/ai/nanoid/blob/HEAD/CHANGELOG.md#506)\n\n[Compare Source](https://togithub.com/ai/nanoid/compare/5.0.5...5.0.6)\n\n-   Fixed React Native support.\n\n### [`v5.0.5`](https://togithub.com/ai/nanoid/blob/HEAD/CHANGELOG.md#505)\n\n[Compare Source](https://togithub.com/ai/nanoid/compare/5.0.4...5.0.5)\n\n-   Make browser\u2019s version faster by increasing size a little (by Samuel Elgozi).\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled because a matching PR was automerged previously.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86301,
        "title": "[v11.0.x] Update dependency diff to v5.2.0",
        "body": "Backport 7640922d76ea7cebf7cbf9ed5128532089fe7576 from #85244\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [diff](https://togithub.com/kpdecker/jsdiff) | [`5.1.0` -> `5.2.0`](https://renovatebot.com/diffs/npm/diff/5.1.0/5.2.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/diff/5.2.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/diff/5.2.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/diff/5.1.0/5.2.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/diff/5.1.0/5.2.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>kpdecker/jsdiff (diff)</summary>\n\n### [`v5.2.0`](https://togithub.com/kpdecker/jsdiff/blob/HEAD/release-notes.md#v520)\n\n[Compare Source](https://togithub.com/kpdecker/jsdiff/compare/v5.1.0...v5.2.0)\n\n[Commits](https://togithub.com/kpdecker/jsdiff/compare/v5.1.0...master)\n\n-   [#&#8203;411](https://togithub.com/kpdecker/jsdiff/pull/411) Big performance improvement. Previously an O(n) array-copying operation inside the innermost loop of jsdiff's base diffing code increased the overall worst-case time complexity of computing a diff from O(n\u00b2) to O(n\u00b3). This is now fixed, bringing the worst-case time complexity down to what it theoretically should be for a Myers diff implementation.\n-   [#&#8203;448](https://togithub.com/kpdecker/jsdiff/pull/411) Performance improvement. Diagonals whose furthest-reaching D-path would go off the edge of the edit graph are now skipped, rather than being pointlessly considered as called for by the original Myers diff algorithm. This dramatically speeds up computing diffs where the new text just appends or truncates content at the end of the old text.\n-   [#&#8203;351](https://togithub.com/kpdecker/jsdiff/issues/351) Importing from the lib folder - e.g. `require(\"diff/lib/diff/word.js\")` - will work again now. This had been broken for users on the latest version of Node since Node 17.5.0, which changed how Node interprets the `exports` property in jsdiff's `package.json` file.\n-   [#&#8203;344](https://togithub.com/kpdecker/jsdiff/issues/344) `diffLines`, `createTwoFilesPatch`, and other patch-creation methods now take an optional `stripTrailingCr: true` option which causes Windows-style `\\r\\n` line endings to be replaced with Unix-style `\\n` line endings before calculating the diff, just like GNU `diff`'s `--strip-trailing-cr` flag.\n-   [#&#8203;451](https://togithub.com/kpdecker/jsdiff/pull/451) Added `diff.formatPatch`.\n-   [#&#8203;450](https://togithub.com/kpdecker/jsdiff/pull/450) Added `diff.reversePatch`.\n-   [#&#8203;478](https://togithub.com/kpdecker/jsdiff/pull/478) Added `timeout` option.\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 85243,
        "title": "Update dependency date-fns to v3.6.0",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [date-fns](https://togithub.com/date-fns/date-fns) | [`3.5.0` -> `3.6.0`](https://renovatebot.com/diffs/npm/date-fns/3.5.0/3.6.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/date-fns/3.6.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/date-fns/3.6.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/date-fns/3.5.0/3.6.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/date-fns/3.5.0/3.6.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>date-fns/date-fns (date-fns)</summary>\n\n### [`v3.6.0`](https://togithub.com/date-fns/date-fns/blob/HEAD/CHANGELOG.md#v360---2024-03-18)\n\n[Compare Source](https://togithub.com/date-fns/date-fns/compare/v3.5.0...v3.6.0)\n\nOn this release worked [@&#8203;kossnocorp](https://togithub.com/kossnocorp) and [@&#8203;world1dan](https://togithub.com/world1dan). Also, thanks to [@&#8203;seated](https://togithub.com/seated) [for sponsoring me](https://togithub.com/sponsors/kossnocorp).\n\n##### Fixed\n\n-   [Fixed weeks in the Belarisuan locale's `formatDistance`.](https://togithub.com/date-fns/date-fns/pull/3720)\n\n##### Added\n\n-   [Added CDN versions of modules compatible with older browsers.](https://togithub.com/date-fns/date-fns/pull/3737) [See the CDN guide.](https://date-fns.org/docs/CDN)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86268,
        "title": "[v11.0.x] Chore: InfluxQL stream parser improvements",
        "body": "Backport fec7765111949e5fba4566d8e3345cd773a88569 from #85041\n\n---\n\n**What is this feature?**\r\n\r\nSmall improvements, removing unnecessary checks, not making any significant performance improvements but make it a bit easier to read the code.\r\n\r\nNote: stream parser is behind the feature flag `influxqlStreamingParser`",
        "labels": [
            "no-changelog",
            "area/backend",
            "backport",
            "product-approved",
            "datasource/InfluxDB"
        ]
    },
    {
        "number": 85163,
        "title": "Changelog: Updated changelog for 10.0.13",
        "body": null,
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.0.x",
            "backport-failed"
        ]
    },
    {
        "number": 86329,
        "title": "[v11.0.x] ci: Stop running ephemeral instances workflow when not needed",
        "body": "Backport 08d603e660621cc01dc63b69edcb7141cb63e30f from #85306\n\n---\n\n<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\n\r\nSince https://github.com/grafana/grafana/pull/72503, the `config` job from the `Ephemeral instances: PR comment` workflow has been running on every comment. This is a regression as the `handle-pull-request-event` job only runs when necessary (i.e. when the appopriate PR comment is present).\r\n\r\n**Why do we need this feature?**\r\n\r\nFixes a CI bug\r\n\r\n**Who is this feature for?**\r\n\r\nInternal maintainers\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nn/a\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "type/ci",
            "no-changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 86843,
        "title": "DataTrails: Exploring alternatives to history issues",
        "body": "\r\n* [x] Fixes issues with time range changes modifying the history step (https://github.com/grafana/grafana/pull/86741)\r\n* [x] Fixes issues with filters modifying a history step  (https://github.com/grafana/grafana/pull/86817) \r\n\r\nBoth were easy to fix as we did not clone the state when we restored state from a history state but used it directly. \r\n\r\n* [x] Tried fixing missing URL sync issues (selected tab no longer synced to URL) by restoring URL sync. Can't recall the reasons for only doing manual URL sync when switching history step.\r\n* [x]\u00a0Some minor code cleanup \r\n\r\nStill the major problem that is annoying me is that we create history step before queries complete, so the history step is really missing the \"lastest state\". But because the state changed event happen after the state change has occurred we cannot really use the latest state to create the previous step (which would be ideal as it would then include all the query results). Not sure how to fix that yet. \r\n\r\nTODO\r\n* [x] Update unit tests,  could need help with this\r\n ",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport v11.0.x"
        ]
    },
    {
        "number": 87468,
        "title": "[v11.0.x] Provisioning: Look up provisioned folders by UID when possible",
        "body": "Backport 1884b03511f20068dc60c38d6262120350766792 from #87465\n\n---\n\nThis PR attempts to fix a bug that prevents Grafana from starting after a provisioned folder has been renamed.\r\n\r\nIt modifies the provisioning code to look up the folder by UID rather than Title when the UID is specified in the provisioning configuration.",
        "labels": [
            "add to changelog",
            "type/bug",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 87196,
        "title": "fix: sql expressions - sql parser table name case",
        "body": "**What is this fix?**\r\n\r\nFixes an issue with Sql expressions where the query ref name was being uppercased.  Uppercasing caused a mismatch between the table name and the key in vars.\r\n\r\n**Why do we need this feature?**\r\n\r\nFixes a bug with sql expressions.\r\n\r\n**Who is this feature for?**\r\n\r\nAnyone using Sql expressions\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "backport v11.0.x",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 86293,
        "title": "[v11.0.x] Update dependency msw to v2.2.12",
        "body": "Backport e28fc1a4a50e9600b62dba9c8d410802e059399f from #85233\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [msw](https://mswjs.io) ([source](https://togithub.com/mswjs/msw)) | [`2.2.11` -> `2.2.12`](https://renovatebot.com/diffs/npm/msw/2.2.11/2.2.12) | [![age](https://developer.mend.io/api/mc/badges/age/npm/msw/2.2.12?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/msw/2.2.12?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/msw/2.2.11/2.2.12?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/msw/2.2.11/2.2.12?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>mswjs/msw (msw)</summary>\n\n### [`v2.2.12`](https://togithub.com/mswjs/msw/releases/tag/v2.2.12)\n\n[Compare Source](https://togithub.com/mswjs/msw/compare/v2.2.11...v2.2.12)\n\n#### v2.2.12 (2024-03-27)\n\n##### Bug Fixes\n\n-   do not mutate user-defined \"X-Request-Id\" request header ([#&#8203;2110](https://togithub.com/mswjs/msw/issues/2110)) ([`64b6ba5`](https://togithub.com/mswjs/msw/commit/64b6ba516123d655e82d164e8ed1bb1f75b8cff8)) [@&#8203;kettanaito](https://togithub.com/kettanaito)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Enabled.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86934,
        "title": "[v11.0.x] Canvas: Ensure tangency for first segment",
        "body": "Backport 173ba73a8a5280cac48ef2414ba1355097f0c426 from #86543\n\n---\n\nFor the first segment of connections, when a radius is applied, tangency wasn't enforced because calculations weren't based on the actual source coordinates, but instead on the original source coordinates.\r\n\r\nBefore:\r\n![322567824-81d19689-7616-4e51-bdb8-1f0b137226f3](https://github.com/grafana/grafana/assets/60050885/48e51740-3c2a-4f40-b95b-66cf89611e4e)\r\n\r\nAfter:\r\n![Apr-18-2024 09-28-53](https://github.com/grafana/grafana/assets/60050885/d0468916-0742-43f3-80f0-24f3f1153da5)\r\n\r\nFixes #86210",
        "labels": [
            "area/panel/canvas",
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 85077,
        "title": "Prometheus: Create jsonschema spec",
        "body": "This PR adds a static jsonschema generated from the gostructs used in the backend",
        "labels": [
            "product-approved",
            "no-changelog",
            "backport v11.0.x",
            "area/backend"
        ]
    },
    {
        "number": 86199,
        "title": "[v11.0.x] Get started with alerting fixes for publish",
        "body": "Backport 54270dff36b7fbef61ba99191a646f18d5847509 from #85158\n\n---\n\n- Rename alerting-get-started.md to index.md\r\n- add frontmatter\r\n<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\n\r\n[Add a brief description of what the feature or update does.]\r\n\r\n**Why do we need this feature?**\r\n\r\n[Add a description of the problem the feature is trying to solve.]\r\n\r\n**Who is this feature for?**\r\n\r\n[Add information on what kind of user the feature is for.]\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86325,
        "title": "[v11.0.x] Update dependency stylelint to v16.3.1",
        "body": "Backport 7e1cd4397a6d0856e193ef0579d585f1ea1ddfb7 from #85286\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [stylelint](https://stylelint.io) ([source](https://togithub.com/stylelint/stylelint)) | [`16.2.1` -> `16.3.1`](https://renovatebot.com/diffs/npm/stylelint/16.2.1/16.3.1) | [![age](https://developer.mend.io/api/mc/badges/age/npm/stylelint/16.3.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/stylelint/16.3.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/stylelint/16.2.1/16.3.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/stylelint/16.2.1/16.3.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>stylelint/stylelint (stylelint)</summary>\n\n### [`v16.3.1`](https://togithub.com/stylelint/stylelint/blob/HEAD/CHANGELOG.md#1631)\n\n[Compare Source](https://togithub.com/stylelint/stylelint/compare/16.3.0...16.3.1)\n\n-   Fixed: `selector-max-id` end positions ([#&#8203;7571](https://togithub.com/stylelint/stylelint/pull/7571)) ([@&#8203;romainmenke](https://togithub.com/romainmenke)).\n-   Fixed: import errors for configs and plugins omitting `/index.js` ([#&#8203;7578](https://togithub.com/stylelint/stylelint/pull/7578)) ([@&#8203;ota-meshi](https://togithub.com/ota-meshi)).\n\n### [`v16.3.0`](https://togithub.com/stylelint/stylelint/blob/HEAD/CHANGELOG.md#1630)\n\n[Compare Source](https://togithub.com/stylelint/stylelint/compare/16.2.1...16.3.0)\n\n-   Added: `ignoreSelectors: []` to `selector-max-compound-selectors` ([#&#8203;7544](https://togithub.com/stylelint/stylelint/pull/7544)) ([@&#8203;FloEdelmann](https://togithub.com/FloEdelmann)).\n-   Added: tally of fixable problems to `string` and `verbose` formatters ([#&#8203;7539](https://togithub.com/stylelint/stylelint/pull/7539)) ([@&#8203;m-allanson](https://togithub.com/m-allanson)).\n-   Added: support for `*-deprecation` command-line flags of Node.js ([#&#8203;7550](https://togithub.com/stylelint/stylelint/pull/7550)) ([@&#8203;fpetrakov](https://togithub.com/fpetrakov)).\n-   Fixed: false positive CJS deprecation warning for dual-package plugins ([#&#8203;7532](https://togithub.com/stylelint/stylelint/pull/7532)) ([@&#8203;JounQin](https://togithub.com/JounQin)).\n-   Fixed: `rule-selector-property-disallowed-list` false positives for nesting selectors ([#&#8203;7558](https://togithub.com/stylelint/stylelint/pull/7558)) ([@&#8203;romainmenke](https://togithub.com/romainmenke)).\n-   Fixed: `selector-pseudo-*-allowed-list` false positives for vendor prefixes ([#&#8203;7525](https://togithub.com/stylelint/stylelint/pull/7525)) ([@&#8203;carlosjeurissen](https://togithub.com/carlosjeurissen)).\n-   Fixed: `report()` for `index`/`endIndex` zero values ([#&#8203;7565](https://togithub.com/stylelint/stylelint/pull/7565)) ([@&#8203;romainmenke](https://togithub.com/romainmenke)).\n-   Fixed: `selector-max-type` end positions ([#&#8203;7518](https://togithub.com/stylelint/stylelint/pull/7518)) ([@&#8203;romainmenke](https://togithub.com/romainmenke)).\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86342,
        "title": "Change folder breadcrumb on folder change in general settings",
        "body": "Fixes a bug where the folder breadcrumb no longer appears after changing the folder from a dashboards general settings. This happens because not all folders in the general settings select box are actually stored in the `navIndex`, so when this changes the dashboard scene `getPageNav` method doesn't find the new folder and returns `not-found`. This solution updates the `navIndex` to include selected folder in it so that the dashboard can pick it up easily and render it in the breadcrumbs.\r\n\r\nPermissions are accounted for by the folders select box in the settings page so we don't need to worry about that.\r\n\r\n\r\nhttps://github.com/grafana/grafana/assets/36818606/5a3ab752-c0dd-40ad-8b3b-0b87912c090b\r\n\r\n\r\n\r\nFixes https://github.com/grafana/grafana/issues/85547",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport v11.0.x",
            "area/dashboard"
        ]
    },
    {
        "number": 87277,
        "title": "sql expressions: improve parser",
        "body": "handle more cases\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "backport",
            "backport v11.0.x",
            "backport-failed"
        ]
    },
    {
        "number": 86352,
        "title": "[v11.0.x] Revert \"Update ephemeral instances workflow to get version from package.json\"",
        "body": "Backport 29c76b98d4901a7979edab3b9267c870109b6c34 from #85347\n\n---\n\nReverts grafana/grafana#85088\r\n\r\nSee https://raintank-corp.slack.com/archives/C06RK6LNRCJ/p1711599255331959",
        "labels": [
            "product-approved",
            "no-changelog",
            "backport"
        ]
    },
    {
        "number": 87062,
        "title": "Docs: Update Explore Metrics doc based on feedback",
        "body": "Updates based on Slack discussion:\r\n\r\nhttps://raintank-corp.slack.com/archives/C0630AYC4SY/p1714140161067799\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport-failed",
            "backport v10.4.x"
        ]
    },
    {
        "number": 86295,
        "title": "[v11.0.x] Update dependency @grafana/plugin-e2e to ^0.25.0",
        "body": "Backport 4cf0c8dfb2e909a33f0d43718cb4da72010fb6cf from #85236\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@grafana/plugin-e2e](https://togithub.com/grafana/plugin-tools) ([source](https://togithub.com/grafana/plugin-tools/tree/HEAD/packages/plugin-e2e)) | [`^0.21.0` -> `^0.25.0`](https://renovatebot.com/diffs/npm/@grafana%2fplugin-e2e/0.21.0/0.25.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@grafana%2fplugin-e2e/0.25.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@grafana%2fplugin-e2e/0.25.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@grafana%2fplugin-e2e/0.21.0/0.25.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@grafana%2fplugin-e2e/0.21.0/0.25.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>grafana/plugin-tools (@&#8203;grafana/plugin-e2e)</summary>\n\n### [`v0.25.0`](https://togithub.com/grafana/plugin-tools/blob/HEAD/packages/plugin-e2e/CHANGELOG.md#v0250-Tue-Mar-26-2024)\n\n[Compare Source](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.24.0...@grafana/plugin-e2e@0.25.0)\n\n##### \ud83d\ude80 Enhancement\n\n-   Plugin E2E: Change package imports and exports [#&#8203;838](https://togithub.com/grafana/plugin-tools/pull/838) ([@&#8203;sunker](https://togithub.com/sunker))\n\n##### Authors: 1\n\n-   Erik Sundell ([@&#8203;sunker](https://togithub.com/sunker))\n\n***\n\n### [`v0.24.0`](https://togithub.com/grafana/plugin-tools/blob/HEAD/packages/plugin-e2e/CHANGELOG.md#v0240-Tue-Mar-26-2024)\n\n[Compare Source](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.23.0...@grafana/plugin-e2e@0.24.0)\n\n##### \ud83d\ude80 Enhancement\n\n-   Plugin E2E: Use new e2e selectors [#&#8203;833](https://togithub.com/grafana/plugin-tools/pull/833) ([@&#8203;sunker](https://togithub.com/sunker))\n\n##### Authors: 1\n\n-   Erik Sundell ([@&#8203;sunker](https://togithub.com/sunker))\n\n***\n\n### [`v0.23.0`](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.22.0...@grafana/plugin-e2e@0.23.0)\n\n[Compare Source](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.22.0...@grafana/plugin-e2e@0.23.0)\n\n### [`v0.22.0`](https://togithub.com/grafana/plugin-tools/blob/HEAD/packages/plugin-e2e/CHANGELOG.md#v0220-Mon-Mar-18-2024)\n\n[Compare Source](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.21.1...@grafana/plugin-e2e@0.22.0)\n\n##### \ud83d\ude80 Enhancement\n\n-   E2E: Added command and page to interact with app pages [#&#8203;821](https://togithub.com/grafana/plugin-tools/pull/821) ([@&#8203;mckn](https://togithub.com/mckn))\n\n##### Authors: 1\n\n-   Marcus Andersson ([@&#8203;mckn](https://togithub.com/mckn))\n\n***\n\n### [`v0.21.1`](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.21.0...@grafana/plugin-e2e@0.21.1)\n\n[Compare Source](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.21.0...@grafana/plugin-e2e@0.21.1)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 87025,
        "title": "[v11.0.x] DashboardScene: Fixes issue with dashboard links and variables",
        "body": "Backport 01f83015047d0026f3d7083430e930ad5d6e6c34 from #86910\n\n---\n\nFixes #86437 ",
        "labels": [
            "area/frontend",
            "add to changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 86270,
        "title": "[v11.0.x] Update dependency msw to v2.2.11",
        "body": "Backport 6ed5e36fe5c5cfcc61829fccf11b8e9c2c473d00 from #85204\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [msw](https://mswjs.io) ([source](https://togithub.com/mswjs/msw)) | [`2.2.9` -> `2.2.11`](https://renovatebot.com/diffs/npm/msw/2.2.9/2.2.11) | [![age](https://developer.mend.io/api/mc/badges/age/npm/msw/2.2.11?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/msw/2.2.11?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/msw/2.2.9/2.2.11?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/msw/2.2.9/2.2.11?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>mswjs/msw (msw)</summary>\n\n### [`v2.2.11`](https://togithub.com/mswjs/msw/releases/tag/v2.2.11)\n\n[Compare Source](https://togithub.com/mswjs/msw/compare/v2.2.10...v2.2.11)\n\n#### v2.2.11 (2024-03-26)\n\n##### Bug Fixes\n\n-   accept a narrower response body type by default ([#&#8203;2107](https://togithub.com/mswjs/msw/issues/2107)) ([`d35ef92`](https://togithub.com/mswjs/msw/commit/d35ef92d0fe07831fb2aaa46050fabf27d3aa709)) [@&#8203;kettanaito](https://togithub.com/kettanaito)\n\n### [`v2.2.10`](https://togithub.com/mswjs/msw/releases/tag/v2.2.10)\n\n[Compare Source](https://togithub.com/mswjs/msw/compare/v2.2.9...v2.2.10)\n\n##### v2.2.10 (2024-03-22)\n\n##### Bug Fixes\n\n-   feature \"new URL()\" in the redundant query params warning ([#&#8203;2102](https://togithub.com/mswjs/msw/issues/2102)) ([`9af301a`](https://togithub.com/mswjs/msw/commit/9af301a7ea593642cc7b6d46f3685cf2ff9f2b58)) [@&#8203;psjostrom](https://togithub.com/psjostrom) [@&#8203;kettanaito](https://togithub.com/kettanaito)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Enabled.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86328,
        "title": "[v11.0.x] Update dependency msw to v2.2.13",
        "body": "Backport 39e91e2984cfcf17d47a1b2e8793a45736d7ada4 from #85300\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [msw](https://mswjs.io) ([source](https://togithub.com/mswjs/msw)) | [`2.2.12` -> `2.2.13`](https://renovatebot.com/diffs/npm/msw/2.2.12/2.2.13) | [![age](https://developer.mend.io/api/mc/badges/age/npm/msw/2.2.13?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/msw/2.2.13?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/msw/2.2.12/2.2.13?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/msw/2.2.12/2.2.13?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>mswjs/msw (msw)</summary>\n\n### [`v2.2.13`](https://togithub.com/mswjs/msw/releases/tag/v2.2.13)\n\n[Compare Source](https://togithub.com/mswjs/msw/compare/v2.2.12...v2.2.13)\n\n##### v2.2.13 (2024-03-27)\n\n##### Bug Fixes\n\n-   use `createRequestId()` instead of `crypto.randomUUID()` ([#&#8203;2113](https://togithub.com/mswjs/msw/issues/2113)) ([`8f2be77`](https://togithub.com/mswjs/msw/commit/8f2be77627b94318e6c2e6d6eee38fc49558c6d9)) [@&#8203;kettanaito](https://togithub.com/kettanaito)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Enabled.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86209,
        "title": "docs: added logs panel play link; added dedup options, reformatted fig",
        "body": "part of a series of PRs.\r\n\r\nThis one also documented one extra option that wasn't covered, and replaced an image for a figure.",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.3.x",
            "backport v10.4.x",
            "backport v10.2.x"
        ]
    },
    {
        "number": 86392,
        "title": "[v11.0.x] Docs: change availability to public preview for v11",
        "body": "Backport d55ce5b2e814b71f8dd68edc8eb6c20ff83cd77d from #86390\n\n---\n\nChanges feature availability to public preview for v11.0. Feature remains in private preview for v10.4.",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86212,
        "title": "docs: add thresholds play link",
        "body": "part of a series of PRs.",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.3.x",
            "backport-failed",
            "backport v10.4.x",
            "backport v10.2.x"
        ]
    },
    {
        "number": 87237,
        "title": "[v11.0.x] Dashboard: POC to run existing e2e with `dashboardScene` feature toggle",
        "body": "Backport 9ea104232964b62aa8fc9797b26c011c53fd5681 from #84598\n\n---\n\n#### Design Doc: [Link](https://docs.google.com/document/d/1XfG30i9wtMxRltJKnIeuuuPLsDno11UyGg_cND-49rQ/edit?usp=sharing )\r\n\r\n#### Depends on this PR ([scenes PR](https://github.com/grafana/scenes/pull/648))\r\n\r\nThis POC PR is part of Proposal 3\r\n\r\nIt is possible to run our e2e with a feature flag enabled by default.  This PR enables the `dashboardScene` feature toggle (using local storage) and sets up an extra `scenes` option on the cypress config.  The idea will be to run this \"scene\" e2e tests in a scheduled github action agains main branch to prevent increasing CI times.\r\n\r\nExplorations on this proposal: \r\n- #### Use the same e2e tests and modify them based on the feature toggle (failed)\r\n\t- I tried to standardize e2e selectors across different flows (adding a dashboard)\r\n\t- Blocker: Some dashboard flows involve editing, it became cumbersome to achieve this, due to the new edit mode we added. I found myself adding a lot of conditionals for the existing e2e code to handle these cases\r\n- #### Duplicate e2e tests and refactor them to only align with the new flows (the changes on this PR) \r\n\t- Created a new folder called `scenes` in the `e2e` folder and duplicated some of the suites that have dashboard logic \r\n\t- Added an extra option called `scenes` on the cypress config, it will only run the e2e that are on that `scenes` folder\r\n\t- Added a new command to enable the feature toggle via local storage \r\n\t- Started to refactor all the tests and flows to accommodate the new UX flow (the edit mode)\r\n\r\n##### E2E tests migrated\r\n- `smoke-tests-suite`\r\n\t- [x] 1-smoketests\r\n\t- [x] panels_smokecreen\r\n- `dashboard-suite`\r\n\t- [x] import-dashboard.spec.ts \r\n\t- [x] embedded-dashboard.spec.ts\r\n\t- [x] dashboard-browse.spec.ts   \r\n\t- [x] dashboard-live-streaming.spec.ts \r\n\t- [x] dashboard-timepicker.spec.ts     \r\n##### Todo\r\n- `dashboard-suite`\r\n\t- [x] Repeating_a_panel_horizontally.spec.ts  ----> This is not rendered with scenes? (need research) (only empty in screenshot)\r\n\t- [x]  Repeating_a_panel_vertically.spec.ts ----> This is not rendered with scenes? (need research) (only empty in screenshot)\r\n\t- [x] Repeating_an_empty_row.spec.ts\r\n\t- [x] dashboard-browse-nested.spec.ts ---> is it empty? no output when running (only empty in screenshot)\r\n\t- [x] dashboard-public-create.spec.ts \r\n\t- [x] dashboard-public-templating.spec.ts   \r\n\t- [x] dashboard-templating.spec.ts\r\n\t    - Should: var-Server=All | Is: var-Server=A%27A%22A&var-Server=BB%5CB&var-Server=CCC difference\r\n\t- [ ] dashboard-time-zone.spec.ts   \r\n\t    - skipped due to https://github.com/grafana/grafana/issues/86420\r\n\t- [x] general-dashboards.spec.ts\r\n\t    - Does not scroll back to panel 50    \r\n\t- [x] load-options-from-url.spec.ts\r\n\t- [x] new-constant-variable.spec.ts \r\n\t- [x] new-custom-variable.spec.ts\r\n\t- [x] new-datasource-variable.spec.ts \r\n\t- [ ] new-interval-variable.spec.ts   ---> failed, bug found https://github.com/grafana/grafana/issues/84727 \r\n\t- [x] new-query-variable.spec.ts \r\n\t- [x] new-text-box-variable.spec.ts      \r\n\t- [x] set-options-from-ui.spec.ts   \r\n\t- [x] templating-dashboard-links-and-variables.spec.ts\r\n\t   - uncertainty with https://github.com/grafana/grafana/issues/86437\r\n\t- [ ] textbox-variables.spec.ts \r\n\t  - skipped due to https://github.com/grafana/grafana/issues/86435\r\n\r\n\r\nThere are number of improvements that need to happen after this PR:\r\n\r\n- [ ] Refactor tests (quite a few places would benefit from extra e2e selectors)\r\n- [ ] improve workflow (include enterprise?)\r\n- [ ] migrate remaining test suites",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "backport",
            "type/ci",
            "type/e2e"
        ]
    },
    {
        "number": 87079,
        "title": "Alerting: Also fix HCL field name for MuteTimeIntervals",
        "body": "**What is this feature?**\r\n\r\nThis PR is related to #87065, and corrects the HCL field name for mute time intervals.\r\n\r\n**Why do we need this feature?**\r\n\r\nBrings HCL export output in line with Terraform provider schema.\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "backport v11.0.x",
            "area/backend",
            "area/alerting"
        ]
    },
    {
        "number": 85326,
        "title": "Update dependency @grafana/aws-sdk to v0.3.3",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@grafana/aws-sdk](https://togithub.com/grafana/grafana-aws-sdk-react) | [`0.3.2` -> `0.3.3`](https://renovatebot.com/diffs/npm/@grafana%2faws-sdk/0.3.2/0.3.3) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@grafana%2faws-sdk/0.3.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@grafana%2faws-sdk/0.3.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@grafana%2faws-sdk/0.3.2/0.3.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@grafana%2faws-sdk/0.3.2/0.3.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>grafana/grafana-aws-sdk-react (@&#8203;grafana/aws-sdk)</summary>\n\n### [`v0.3.3`](https://togithub.com/grafana/grafana-aws-sdk-react/blob/HEAD/CHANGELOG.md#v033)\n\n[Compare Source](https://togithub.com/grafana/grafana-aws-sdk-react/compare/020281496cec5f4497fa7da21de4f628b638050e...v0.3.3)\n\n-   Fix: broken ESM imports due to `src` in ESM build output path\n-   Fix: circular dependencies in components\n-   Fix: ESM builds importing entire react, grafana/ui, grafana/data, and grafana/experimental\n-   Refactor: prefer named exports over asterisk in barrel files\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86310,
        "title": "[v11.0.x] Docs: Update broken links to grafana play",
        "body": "Backport 7c7cdf7c3d522ba6e6631ef3ac264e5390190b0c from #86233\n\n---\n\n**What is this feature?**\r\n\r\nUpdating broken links to play.grafana.org in our documentation",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86495,
        "title": "[v11.0.x] InfluxDB: Fix interpolation for floating point number values",
        "body": "Backport 635d85db7af6c232f6f413a764720362226fe525 from #86396\n\n---\n\n**What is this feature?**\r\n\r\nWhile interpolating, variables that have floating point values escaped. This leads to a broken query being sent. Here we check if the value is an integer or not. If it is an integer we return the value as it is.\r\n\r\n**Why do we need this feature?**\r\n\r\nBetter interpolation\r\n\r\n**Who is this feature for?**\r\n\r\nInfluxDB influxQL query language\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nFixes https://github.com/grafana/grafana/issues/86380\r\n\r\n**Special notes for your reviewer:**\r\n\r\n### How to test\r\n- Have a template variable whose value is a floating point number i.e. `42.24`\r\n  - You can use `Custom` or `Text box` variable types\r\n- Have a panel with `influxql` and in the code mode apply following query \r\n```\r\nSELECT floor(\"usage_idle\" / ($floating_point)) FROM /^cpu$/ WHERE $timeFilter\r\n```\r\n- Observe that the query returns error\r\n- Switch to this branch and try again\r\n- Also try using number in different places of the query\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport",
            "datasource/InfluxDB"
        ]
    },
    {
        "number": 87195,
        "title": "Scenes/Dashboard: Fix issue where changes to panel in row weren't detected in panel edit",
        "body": "Closes #87171",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport v11.0.x",
            "area/dashboard"
        ]
    },
    {
        "number": 87465,
        "title": "Provisioning: Look up provisioned folders by UID when possible",
        "body": "This PR attempts to fix a bug that prevents Grafana from starting after a provisioned folder has been renamed.\r\n\r\nIt modifies the provisioning code to look up the folder by UID rather than Title when the UID is specified in the provisioning configuration.",
        "labels": [
            "type/bug",
            "area/backend",
            "backport v11.0.x",
            "backport-failed",
            "backport v9.5.x",
            "backport v10.4.x",
            "add to changelog"
        ]
    },
    {
        "number": 86344,
        "title": "[v11.0.x] Update dependency webpack to v5.91.0",
        "body": "Backport 50a57bb88c8085f85231548d5e16f4107042e030 from #85302\r\n\r\n---\r\n\r\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\r\n\r\nThis PR contains the following updates:\r\n\r\n| Package | Change | Age | Adoption | Passing | Confidence |\r\n|---|---|---|---|---|---|\r\n| [webpack](https://togithub.com/webpack/webpack) | [`5.90.3` -> `5.91.0`](https://renovatebot.com/diffs/npm/webpack/5.90.3/5.91.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/webpack/5.91.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/webpack/5.91.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/webpack/5.90.3/5.91.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/webpack/5.90.3/5.91.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\r\n\r\n---\r\n\r\n> [!WARNING]\r\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\r\n\r\n---\r\n\r\n### Release Notes\r\n\r\n<details>\r\n<summary>webpack/webpack (webpack)</summary>\r\n\r\n### [`v5.91.0`](https://togithub.com/webpack/webpack/releases/tag/v5.91.0)\r\n\r\n[Compare Source](https://togithub.com/webpack/webpack/compare/v5.90.3...v5.91.0)\r\n\r\n#### Bug Fixes\r\n\r\n-   Deserializer for ignored modules doesn't crash\r\n-   Allow the `unsafeCache` option to be a proxy object\r\n-   Normalize the `snapshot.unmanagedPaths` option\r\n-   Fixed `fs` types\r\n-   Fixed resolve's plugins types\r\n-   Fixed wrongly calculate postOrderIndex\r\n-   Fixed watching types\r\n-   Output import attrbiutes/import assertions for external JS imports\r\n-   Throw an error when DllPlugin needs to generate multiple manifest files, but the path is the same\r\n-   \\[CSS] Output `layer`/`supports`/`media` for external CSS imports\r\n\r\n#### New Features\r\n\r\n-   Allow to customize the stage of BannerPlugin\r\n-   \\[CSS] Support CSS exports convention\r\n-   \\[CSS] support CSS local ident name\r\n-   \\[CSS] Support `__webpack_nonce__` for CSS chunks\r\n-   \\[CSS] Support `fetchPriority` for CSS chunks\r\n-   \\[CSS] Allow to use LZW to compress css head meta (enabled in the `production` mode by default)\r\n-   \\[CSS] Support prefetch/preload for CSS chunks\r\n\r\n</details>\r\n\r\n---\r\n\r\n### Configuration\r\n\r\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\r\n\r\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\r\n\r\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\r\n\r\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\r\n\r\n---\r\n\r\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\r\n\r\n---\r\n\r\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\r\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "datasource/GoogleCloudMonitoring",
            "datasource/Tempo",
            "datasource/Jaeger",
            "datasource/grafana-pyroscope",
            "backport",
            "product-approved",
            "datasource/Azure",
            "datasource/Parca",
            "dependencies",
            "datasource/Zipkin"
        ]
    },
    {
        "number": 86552,
        "title": "Alerting: Fix simplified routing group by override",
        "body": "**What is this feature?**\r\n\r\nCustom group by overrides for simplified routing looked like they were generating correctly using `GroupByStr`, displaying correctly in exports and UI but the generated routes were actually missing required fields normally set during upstream Route [validation](https://github.com/grafana/alerting/blob/bc622368256dbf116357d232441b6d1ad6166363/definition/alertmanager_validation.go#L17-L23).\r\n\r\nThis fix ensures the missing fields `GroupBy` and `GroupByAll` are applied to the generated routes.\r\n\r\n**Why do we need this feature?**\r\n\r\nFor simplified routing group by overrides to function correctly.\r\n\r\n**Who is this feature for?**\r\n\r\nUsers of simplified routing.\r\n",
        "labels": [
            "type/bug",
            "area/backend",
            "area/alerting",
            "backport v11.0.x",
            "backport-failed",
            "backport v10.4.x",
            "add to changelog"
        ]
    },
    {
        "number": 86517,
        "title": "NodeGraph: Fix invisible arrow tips in Editor",
        "body": "Exactly a re-send of https://github.com/grafana/grafana/pull/84688, which didn't work with the CI, probably because i accidentally sent it from my fork's main/default branch instead of a regular branch.",
        "labels": [
            "area/frontend",
            "type/bug",
            "backport v11.0.x",
            "pr/external",
            "area/panel/node-graph",
            "add to changelog"
        ]
    },
    {
        "number": 87199,
        "title": "Docs: add standard options shared content",
        "body": "This PR adds a shared file with standard options for visualizations and adds that file to relevant visualizations.\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x"
        ]
    },
    {
        "number": 85421,
        "title": "Canvas: Match connection anchor points to elements",
        "body": "TODO\r\n\r\n- [x] Fix cloud anchor points to actually match shape\r\n- [x] Fix parallelogram phantom point showing up\r\n- [x] Better align / space top / bottom parallelogram points\r\n- [x]  Figure out how to make anchor points show up correctly on initial hover vs needing to first select and then unselect element\r\n- [x] Test and ensure no regressions\r\n\r\nEllipse\r\n\r\n<img width=\"388\" alt=\"Screenshot 2024-03-30 at 2 12 21\u202fAM\" src=\"https://github.com/grafana/grafana/assets/22381771/ec722b9e-3de9-4de0-877f-d9bb625c582b\">\r\n\r\n\r\nTriangle\r\n<img width=\"374\" alt=\"Screenshot 2024-03-30 at 2 12 45\u202fAM\" src=\"https://github.com/grafana/grafana/assets/22381771/6083dad2-47e6-4a4f-857b-9cfd8b183e41\">\r\n\r\nParallelogram\r\n<img width=\"251\" alt=\"Screenshot 2024-04-22 at 7 36 59\u202fPM\" src=\"https://github.com/grafana/grafana/assets/22381771/92fb113a-586b-483b-b871-9df1bc145a4b\">\r\n\r\nCloud\r\n<img width=\"282\" alt=\"Screenshot 2024-04-22 at 7 37 29\u202fPM\" src=\"https://github.com/grafana/grafana/assets/22381771/35b91f2f-a0fd-49b2-b840-8b477ca0d37a\">\r\n\r\n\r\n\r\nFixes https://github.com/grafana/grafana/issues/84845",
        "labels": [
            "area/panel/canvas",
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport v11.0.x"
        ]
    },
    {
        "number": 86238,
        "title": "[v11.0.x] docs: added logs panel play link; added dedup options, reformatted fig",
        "body": "Backport 19ae9377b906f6f7ec7c629622f42cef65ffc55e from #86209\n\n---\n\npart of a series of PRs.\r\n\r\nThis one also documented one extra option that wasn't covered, and replaced an image for a figure.",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 85167,
        "title": "Changelog: Updated changelog for 10.1.9",
        "body": null,
        "labels": [
            "no-changelog",
            "backport v10.1.x",
            "type/docs",
            "backport v11.0.x",
            "backport-failed"
        ]
    },
    {
        "number": 86197,
        "title": "[v11.0.x] Prometheus: Create jsonschema spec",
        "body": "Backport e5cf863973abeb1457e443daf8e3ca0d1e1ddd50 from #85077\n\n---\n\nThis PR adds a static jsonschema generated from the gostructs used in the backend",
        "labels": [
            "product-approved",
            "no-changelog",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 86996,
        "title": "Docs: Add value mappings shared content",
        "body": "This PR adds a shared file with value mappings options for visualizations and adds that file to relevant visualizations.\r\n\r\nThis PR:\r\n\r\n- Adds shared file for value mappings content\r\n- Adds shared file to appropriate visualizations\r\n- Fixes version interpolation syntax",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.3.x",
            "backport-failed",
            "backport v10.4.x"
        ]
    },
    {
        "number": 86591,
        "title": "[v11.0.x] IntervalVariableEditor: Do not add current value as interval prop",
        "body": "Backport 65afe90124cd57deae18f6955b5f286a4dd438e9 from #86446\n\n---\n\nFixes #84727 \r\n\r\n**Problem**\r\nWhen updating the values for the interval option, the current value is not updated. When calling `variable.getSelectOptions` function it appends the current value if it is not part of the intervals already defined.\r\n\r\n**Solution**\r\nWe default to the first item in the list if the values provided don't include the current value set in the dashboard for that interval option.\r\n\r\nPlease, see the issue description to see how to manually test it and reproduce it.",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 86274,
        "title": "[v11.0.x] Update dependency @glideapps/glide-data-grid to v6.0.3",
        "body": "Backport af3e45306833af902d7124ad86d448d06e2461d2 from #85189\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@glideapps/glide-data-grid](https://grid.glideapps.com) ([source](https://togithub.com/glideapps/glide-data-grid/tree/HEAD/packages/core)) | [`6.0.1` -> `6.0.3`](https://renovatebot.com/diffs/npm/@glideapps%2fglide-data-grid/6.0.1/6.0.3) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@glideapps%2fglide-data-grid/6.0.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@glideapps%2fglide-data-grid/6.0.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@glideapps%2fglide-data-grid/6.0.1/6.0.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@glideapps%2fglide-data-grid/6.0.1/6.0.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>glideapps/glide-data-grid (@&#8203;glideapps/glide-data-grid)</summary>\n\n### [`v6.0.3`](https://togithub.com/glideapps/glide-data-grid/releases/tag/v6.0.3): Glide Data Grid 6.0.3\n\n[Compare Source](https://togithub.com/glideapps/glide-data-grid/compare/v6.0.2...v6.0.3)\n\nFun fact: this release was done while riding in a 737 MAX. If this is the last release of GDG ever I pray I shorted Boeing on the way down. I guess this also puts me in the mile high npm club? Hurrah.\n\n#### Improvements\n\n-   src now included in the package to make sure sourcemaps work\n-   readonly no longer sometimes ignore by uri cell, thanks [@&#8203;LukasMasuch](https://togithub.com/LukasMasuch)\n-   Fixed the focus ring sometimes being clipped\n-   There is now an API `editOnType` to control if the overlay editor can be triggered by simply typing or not.\n\n### [`v6.0.2`](https://togithub.com/glideapps/glide-data-grid/releases/tag/v6.0.2): Glide Data Grid 6.0.2\n\n[Compare Source](https://togithub.com/glideapps/glide-data-grid/compare/v6.0.1...v6.0.2)\n\n#### New Features\n\n-   Add multiselect cell\n-   Add support for circular checkboxes in row marker\n-   Add ability to configure the editor bloom amount\n\n#### Enhancement\n\n-   Bump react-select version\n\n#### Bug Fixes\n\n-   Fix issue where highlight regions would sometimes not show when center region is only 1 column wide\n-   Trailing row no longer selectable via DND when not sticky\n-   `onItemHovered` no longer emitted when resizing a column, thanks [@&#8203;BrianHung](https://togithub.com/BrianHung)\n-   FIx bug where disabling the focus ring did not disable the background color\n-   Fix a clipping issue when vertical borders are not drawn\n-   Add ability to have a hover effect on text cells to preview editing\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled because a matching PR was automerged previously.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 85269,
        "title": "[v11.0.x] LLMApp: Skip 404 requests to know if the plugin exists",
        "body": "Backport 61e67423ff21185a75f69cfbe5a423f816184fac from #85226\n\n---\n\nI get really annoyed seeing these error requests every time I open dashboard settings or panel edit. \r\n\r\n![Screenshot 2024-03-27 at 08 40 44](https://github.com/grafana/grafana/assets/10999/f14b383c-8751-429d-bf27-d804fad35985)\r\n\r\nIf tests needs updating, can anyone who wrote this help? \r\n\r\n\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport"
        ]
    },
    {
        "number": 87074,
        "title": "[v11.0.x] Docs: Update Explore Metrics doc based on feedback",
        "body": "Backport 3845033308f1914a685ac3c7514352b834a80319 from #87062\n\n---\n\nUpdates based on Slack discussion:\r\n\r\nhttps://raintank-corp.slack.com/archives/C0630AYC4SY/p1714140161067799\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86327,
        "title": "[v11.0.x] Update dependency @types/react to v18.2.73",
        "body": "Backport 2f18148da2ab1ac6b8ea572dc98defa9201d703f from #85297\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@types/react](https://togithub.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/react) ([source](https://togithub.com/DefinitelyTyped/DefinitelyTyped/tree/HEAD/types/react)) | [`18.2.72` -> `18.2.73`](https://renovatebot.com/diffs/npm/@types%2freact/18.2.72/18.2.73) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@types%2freact/18.2.73?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@types%2freact/18.2.73?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@types%2freact/18.2.72/18.2.73?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@types%2freact/18.2.72/18.2.73?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Enabled.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "datasource/GoogleCloudMonitoring",
            "datasource/Tempo",
            "datasource/grafana-pyroscope",
            "backport",
            "product-approved",
            "datasource/Azure",
            "datasource/Parca",
            "dependencies",
            "datasource/Zipkin"
        ]
    },
    {
        "number": 86651,
        "title": "Alerting: Fix max_alerts field handling",
        "body": "**What is this feature?**\r\nThis PR fixes external Alertmanager `max_alerts` options handling\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/alerting",
            "backport v11.0.x",
            "backport v10.4.x",
            "missing-labels"
        ]
    },
    {
        "number": 85492,
        "title": "Canvas: Render selected connection last",
        "body": "Sort connections to be rendered so that a selected one is rendered last, ensuring edit controls can be accessed as the selected connection will be on the top.\r\n\r\nBefore:\r\n![312274135-8926356d-54e4-4846-929d-867526d7facb](https://github.com/grafana/grafana/assets/60050885/ddb885fb-c064-405c-bfcf-865351744ea5)\r\n\r\nAfter:\r\n![Apr-02-2024 10-18-07](https://github.com/grafana/grafana/assets/60050885/2e1cf304-22d9-431a-82df-62cc7880ea5f)\r\n\r\n\r\nFixes #84334",
        "labels": [
            "area/panel/canvas",
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport v11.0.x"
        ]
    },
    {
        "number": 86910,
        "title": "DashboardScene: Fixes issue with dashboard links and variables",
        "body": "Fixes #86437 ",
        "labels": [
            "area/frontend",
            "add to changelog",
            "type/bug",
            "backport v11.0.x"
        ]
    },
    {
        "number": 85224,
        "title": "Graphite: second function as another function argument parsing error fix",
        "body": "Fixes https://github.com/grafana/support-escalations/issues/9890\r\n\r\n**What is this fix?**\r\n\r\nThe Graphite query editor has known parsing issues when switching between code and query editor. When the following case occurs, the query is changed, which is not good. This fixes parsing issues for the `divideSeriesLists` function with second argument functions and second argument nested functions.\r\n\r\nHere is an example you can test with:\r\n\r\n1. Write a query in the code editor that uses divideSeriesLists.\r\n\r\n```\r\ndivideSeriesLists(scaleToSeconds(nonNegativeDerivative(carbon.agents.0df7e0ba2701-a.cache.queries), 1), scaleToSeconds(carbon.agents.0df7e0ba2701-a.cache.queries,1))\r\n```\r\n\r\n(This nested query contains a second argument that is a function. This is where the parser breaks. It can only parse an onion-like number of nested functions. If there is a second argument function, it will parse that incorrectly.)\r\n\r\n2. Switch to query editor\r\n\r\n3. Update any part of the query. Change a tag, change an argument in a function, do anything to update the query. \r\n\r\nHere is an example of a small change, the function `scaleToSeconds(carbon.agents.0df7e0ba2701-a.cache.**queues**,1)` where queries is changed to queues.\r\n\r\n4. Switch back to the code editor. See that the query is not changed\r\n\r\n\r\nDocs have also been updated for a future workaround for this. Customers can use a series reference where they write the second argument function in a separate query row and then reference it in the additional query.\r\n\r\nQUERY A: `scaleToSeconds(carbon.agents.0df7e0ba2701-a.cache.queries,1)`\r\n\r\nQUERY B: `divideSeriesLists(scaleToSeconds(nonNegativeDerivative(carbon.agents.0df7e0ba2701-a.cache.queries), 1), #A)`\r\n\r\n\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "area/datasource/frontend",
            "datasource/Graphite",
            "backport v10.2.x"
        ]
    },
    {
        "number": 86399,
        "title": "[v11.0.x] datatrails: track user interactions",
        "body": "Backport ea90f0119c9378b51c816936876d64e2fac69e3b from #85909\n\n---\n\n<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\n\r\nIncluding interaction tracking in the Explore Metrics experience.\r\n\r\n**Why do we need this feature?**\r\n\r\nUX research\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "missing-labels",
            "backport"
        ]
    },
    {
        "number": 86204,
        "title": "Dashboard: Migration -  Add public dashboard tag in the nav bar",
        "body": " Fix public dashboard tag is missing in the nav bar when a dashboard has been shared as a public dashboard\r\n\r\n![image](https://github.com/grafana/grafana/assets/239999/92fb12b7-dfbb-46ca-bcea-1156c6a8b951)\r\n\r\nFixes: #84566 ",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport v11.0.x"
        ]
    },
    {
        "number": 86881,
        "title": "[v11.0.x] Add onClick behaviour to links to new tooltips",
        "body": "Backport 9e54c450d700e7073bd547254ee0ca0a76fdbd66 from #84974\n\n---\n\n**What is this feature?**\r\n\r\nThis PR adds a call to the `onClick` function of a link if it exists. It replicates the behaviour of the previous tooltips (it was using the `DataLink` component, and handling the link's `onClick` ([ref](https://github.com/grafana/grafana/blob/b20da139ad0fe96299321c347baa4da36860ea54/packages/grafana-ui/src/components/DataLinks/DataLinkButton.tsx#L22)))\r\n\r\n**Why do we need this feature?**\r\n\r\nWe need this feature to be able to override the link and behaviour when clicking on it, since we usually have the information related to that point in there.\r\n\r\n**Who is this feature for?**\r\n\r\nIt replicates existing behaviour in the old tooltips, so for everyone relying on the `onClick` attribute of the link.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "no-backport",
            "type/bug",
            "backport",
            "area/tooltip"
        ]
    },
    {
        "number": 87345,
        "title": "[v11.0.x] Cloudwatch: Update grafana-aws-sdk to fix sts endpoints",
        "body": "manually backports https://github.com/grafana/grafana/pull/87326\r\n",
        "labels": [
            "add to changelog",
            "type/bug",
            "area/backend",
            "backport"
        ]
    },
    {
        "number": 86409,
        "title": "[v11.0.x] DashboardScene: Move add library panel view from grid item to drawer",
        "body": "Backport 5837def8505dcd9da20c5ba0dad29c5f845d7318 from #86257\n\n---\n\nWas looking at #86158 and it occurred to me that adding a library panel from a grid item is a bit awkward (and creates a lot of complexity in the code). \r\n\r\n* [x] Move add library panel view to a Drawer\r\n* [x] Clean up code that is no longer needed (a lot)\r\n* [x] Update unit tests  \r\n\r\nNew drawer experience: \r\n\r\nhttps://github.com/grafana/grafana/assets/10999/d4399baf-6cbe-4057-ad8d-a036854776e7\r\n\r\n\r\n",
        "labels": [
            "area/frontend",
            "add to changelog",
            "missing-labels",
            "backport"
        ]
    },
    {
        "number": 86283,
        "title": "[v11.0.x] Update dependency @types/react to v18.2.72",
        "body": "Backport e184520c6132702c935631d9fecd74a0a5838e70 from #85211\r\n\r\n---\r\n\r\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\r\n\r\nThis PR contains the following updates:\r\n\r\n| Package | Change | Age | Adoption | Passing | Confidence |\r\n|---|---|---|---|---|---|\r\n| [@types/react](https://togithub.com/DefinitelyTyped/DefinitelyTyped/tree/master/types/react) ([source](https://togithub.com/DefinitelyTyped/DefinitelyTyped/tree/HEAD/types/react)) | [`18.2.71` -> `18.2.72`](https://renovatebot.com/diffs/npm/@types%2freact/18.2.71/18.2.72) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@types%2freact/18.2.72?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@types%2freact/18.2.72?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@types%2freact/18.2.71/18.2.72?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@types%2freact/18.2.71/18.2.72?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\r\n\r\n---\r\n\r\n> [!WARNING]\r\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\r\n\r\n---\r\n\r\n### Configuration\r\n\r\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\r\n\r\n\ud83d\udea6 **Automerge**: Enabled.\r\n\r\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\r\n\r\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\r\n\r\n---\r\n\r\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\r\n\r\n---\r\n\r\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\r\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "datasource/GoogleCloudMonitoring",
            "datasource/Tempo",
            "datasource/grafana-pyroscope",
            "backport",
            "product-approved",
            "datasource/Azure",
            "datasource/Parca",
            "dependencies",
            "datasource/Zipkin"
        ]
    },
    {
        "number": 86315,
        "title": "[v11.0.x] Update dependency react-hook-form to v7.51.2",
        "body": "Backport 3049acd7d7d24f300d2c4915b089e73da04ff001 from #85249\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [react-hook-form](https://www.react-hook-form.com) ([source](https://togithub.com/react-hook-form/react-hook-form)) | [`7.49.3` -> `7.51.2`](https://renovatebot.com/diffs/npm/react-hook-form/7.49.3/7.51.2) | [![age](https://developer.mend.io/api/mc/badges/age/npm/react-hook-form/7.51.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/react-hook-form/7.51.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/react-hook-form/7.49.3/7.51.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/react-hook-form/7.49.3/7.51.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>react-hook-form/react-hook-form (react-hook-form)</summary>\n\n### [`v7.51.2`](https://togithub.com/react-hook-form/react-hook-form/releases/tag/v7.51.2): Version 7.51.2\n\n[Compare Source](https://togithub.com/react-hook-form/react-hook-form/compare/v7.51.1...v7.51.2)\n\n\ud83d\udc1e fix [#&#8203;11719](https://togithub.com/react-hook-form/react-hook-form/issues/11719) validation stuck on true state ([#&#8203;11723](https://togithub.com/react-hook-form/react-hook-form/issues/11723))\n\n### [`v7.51.1`](https://togithub.com/react-hook-form/react-hook-form/compare/v7.51.0...00ce24a0a3fc25c98606f673d79ae90c6d3de81a)\n\n[Compare Source](https://togithub.com/react-hook-form/react-hook-form/compare/v7.51.0...v7.51.1)\n\n### [`v7.51.0`](https://togithub.com/react-hook-form/react-hook-form/blob/HEAD/CHANGELOG.md#7510---2024-3-2)\n\n[Compare Source](https://togithub.com/react-hook-form/react-hook-form/compare/v7.50.1...v7.51.0)\n\n##### Added\n\n-   added 'validateFields' to formState\n\n```tsx\nconst { formState: { validateFields } } = useForm();\n```\n\n### [`v7.50.1`](https://togithub.com/react-hook-form/react-hook-form/releases/tag/v7.50.1): Version v7.50.1\n\n[Compare Source](https://togithub.com/react-hook-form/react-hook-form/compare/v7.50.0...v7.50.1)\n\n\ud83e\udd72 Regression: Revert \"\u2328\ufe0f fix [#&#8203;10734](https://togithub.com/react-hook-form/react-hook-form/issues/10734) watch and useWatch without parameters return type ([#&#8203;11359](https://togithub.com/react-hook-form/react-hook-form/issues/11359))\"\n\n### [`v7.50.0`](https://togithub.com/react-hook-form/react-hook-form/releases/tag/v7.50.0): Versions 7.50.0\n\n[Compare Source](https://togithub.com/react-hook-form/react-hook-form/compare/v7.49.3...v7.50.0)\n\n\ud83d\udd27 fix data param in handleSubmit when TTransformedValues is a union type ([#&#8203;11420](https://togithub.com/react-hook-form/react-hook-form/issues/11420))\n\ud83d\udc77 build(Engines): remove pnpm dependency ([#&#8203;11425](https://togithub.com/react-hook-form/react-hook-form/issues/11425))\n\ud83d\udc1e fixes [#&#8203;11386](https://togithub.com/react-hook-form/react-hook-form/issues/11386) get new dirtyFields when reset keeping defaults and dirty values ([#&#8203;11401](https://togithub.com/react-hook-form/react-hook-form/issues/11401))\n\ud83c\udff7\ufe0f improve CustomElement type ([#&#8203;11309](https://togithub.com/react-hook-form/react-hook-form/issues/11309))\n\ud83d\udcab feat(useForm): leave formState flags in a consistent state when throwing in handleSubmit onValid ([#&#8203;11214](https://togithub.com/react-hook-form/react-hook-form/issues/11214))\n\u2328\ufe0f fix: change DeepPartial to account for object union types & unknown ([#&#8203;11385](https://togithub.com/react-hook-form/react-hook-form/issues/11385))\n\u2728 feat(values): priorities values over defaultvalues ([#&#8203;11399](https://togithub.com/react-hook-form/react-hook-form/issues/11399))\n\ud83d\udc1e close [#&#8203;11246](https://togithub.com/react-hook-form/react-hook-form/issues/11246) skip root validation on action when mode and revalidate mode is onSubmit ([#&#8203;11395](https://togithub.com/react-hook-form/react-hook-form/issues/11395))\n\ud83d\udca9 fix [#&#8203;11322](https://togithub.com/react-hook-form/react-hook-form/issues/11322) trigger extra re-render with useWatch plus shouldUnregister ([#&#8203;11394](https://togithub.com/react-hook-form/react-hook-form/issues/11394))\n\u2328\ufe0f fix [#&#8203;10734](https://togithub.com/react-hook-form/react-hook-form/issues/10734) watch and useWatch without parameters return type ([#&#8203;11359](https://togithub.com/react-hook-form/react-hook-form/issues/11359))\n\ud83e\uddd1\u200d\u2708\ufe0f fix [#&#8203;11281](https://togithub.com/react-hook-form/react-hook-form/issues/11281) issue with upgrade node version ([#&#8203;11392](https://togithub.com/react-hook-form/react-hook-form/issues/11392))\n\ud83d\udc1e fix [#&#8203;11368](https://togithub.com/react-hook-form/react-hook-form/issues/11368) keep form state mounted when keeping values ([#&#8203;11384](https://togithub.com/react-hook-form/react-hook-form/issues/11384))\n\ud83d\udc1e fix [#&#8203;11374](https://togithub.com/react-hook-form/react-hook-form/issues/11374): Nested deep partial with unknown ([#&#8203;11373](https://togithub.com/react-hook-form/react-hook-form/issues/11373))\n\nthanks to [@&#8203;Moshyfawn](https://togithub.com/Moshyfawn), [@&#8203;jonahallibone](https://togithub.com/jonahallibone), [@&#8203;eladattias1996](https://togithub.com/eladattias1996), [@&#8203;RulerOfCakes](https://togithub.com/RulerOfCakes), [@&#8203;anonkey](https://togithub.com/anonkey), [@&#8203;Ar4ys](https://togithub.com/Ar4ys), [@&#8203;IanVS](https://togithub.com/IanVS) and [@&#8203;r-kataoka11](https://togithub.com/r-kataoka11)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 85308,
        "title": "CloudMigration:  Add service to list all migrations",
        "body": "**What is this feature?**\r\nAdds the service to return all cloud migrations\r\n\r\nFixes https://github.com/grafana/grafana-operator-experience-squad/issues/709\r\n\r\nExample response running locally:\r\n![image](https://github.com/grafana/grafana/assets/34773040/8730f6ec-c64e-4045-95d2-242ebccc5017)\r\n\r\nNotes:\r\nIn ticket it was only required that we return the stack id for each migration, but since we have this struct already created to return migration information, I decided to use the same, so it is the same information across the same API (and there is no private information exposed)\r\n\r\n```golang\r\ntype CloudMigrationResponse struct {\r\n\tID      int64     `json:\"id\"`\r\n\tStack   string    `json:\"stack\"`\r\n\tCreated time.Time `json:\"created\"`\r\n\tUpdated time.Time `json:\"updated\"`\r\n}\r\n\r\n```\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [x] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "product-approved",
            "no-changelog",
            "backport v11.0.x",
            "area/backend"
        ]
    },
    {
        "number": 86384,
        "title": "[v11.0.x] Docs: add panels & visualizations landing page",
        "body": "Backport 7c441011f2079978e76c558499ee1dfa766697cb from #86073",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 86267,
        "title": "DashboardScene: Measure and report scene load time",
        "body": "**What is this feature?**\r\n\r\nThis reports the load time of scenes dashboards, similar to what we already do for old dashboards.",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport v11.0.x",
            "area/dashboard"
        ]
    },
    {
        "number": 87293,
        "title": "[v11.0.x] Scenes/Dashboard: Fix issue where changes to panel in row weren't detected in panel edit",
        "body": "Backport b3f173f15319544cb1e4f8cd5cb72879b3505f8a from #87195\n\n---\n\nCloses #87171",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport",
            "area/dashboard"
        ]
    },
    {
        "number": 85181,
        "title": "Update dependency @floating-ui/react to v0.26.10",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@floating-ui/react](https://floating-ui.com/docs/react) ([source](https://togithub.com/floating-ui/floating-ui/tree/HEAD/packages/react)) | [`0.26.9` -> `0.26.10`](https://renovatebot.com/diffs/npm/@floating-ui%2freact/0.26.9/0.26.10) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@floating-ui%2freact/0.26.10?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@floating-ui%2freact/0.26.10?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@floating-ui%2freact/0.26.9/0.26.10?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@floating-ui%2freact/0.26.9/0.26.10?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>floating-ui/floating-ui (@&#8203;floating-ui/react)</summary>\n\n### [`v0.26.10`](https://togithub.com/floating-ui/floating-ui/blob/HEAD/packages/react/CHANGELOG.md#02610)\n\n[Compare Source](https://togithub.com/floating-ui/floating-ui/compare/@floating-ui/react@0.26.9...@floating-ui/react@0.26.10)\n\n##### Patch Changes\n\n-   fix(FloatingFocusManager): return focus to the first tabbable descendant of the reference element if the reference element itself is not focusable\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "backport-failed",
            "dependencies"
        ]
    },
    {
        "number": 86276,
        "title": "[v11.0.x] Update dependency @kusto/monaco-kusto to v10.0.18",
        "body": "Backport 1513b0cab1ef95c6d4c57ef86590df3647927b52 from #85194\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@kusto/monaco-kusto](https://togithub.com/Azure/monaco-kusto) | [`10.0.12` -> `10.0.18`](https://renovatebot.com/diffs/npm/@kusto%2fmonaco-kusto/10.0.12/10.0.18) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@kusto%2fmonaco-kusto/10.0.18?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@kusto%2fmonaco-kusto/10.0.18?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@kusto%2fmonaco-kusto/10.0.12/10.0.18?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@kusto%2fmonaco-kusto/10.0.12/10.0.18?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>Azure/monaco-kusto (@&#8203;kusto/monaco-kusto)</summary>\n\n### [`v10.0.18`](https://togithub.com/Azure/monaco-kusto/compare/09937be94c643b6320098b1e7f35e4ae03ee15ad...b9a6883de62244496a6a0f50e8cb7133449edf9f)\n\n[Compare Source](https://togithub.com/Azure/monaco-kusto/compare/09937be94c643b6320098b1e7f35e4ae03ee15ad...b9a6883de62244496a6a0f50e8cb7133449edf9f)\n\n### [`v10.0.17`](https://togithub.com/Azure/monaco-kusto/compare/8b930158e2671b9b9823d3f36e26533e7844382b...09937be94c643b6320098b1e7f35e4ae03ee15ad)\n\n[Compare Source](https://togithub.com/Azure/monaco-kusto/compare/8b930158e2671b9b9823d3f36e26533e7844382b...09937be94c643b6320098b1e7f35e4ae03ee15ad)\n\n### [`v10.0.13`](https://togithub.com/Azure/monaco-kusto/compare/eb1fd7f73acc7a2e61108b5a672fc540cbe61691...8b930158e2671b9b9823d3f36e26533e7844382b)\n\n[Compare Source](https://togithub.com/Azure/monaco-kusto/compare/eb1fd7f73acc7a2e61108b5a672fc540cbe61691...8b930158e2671b9b9823d3f36e26533e7844382b)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Enabled.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86348,
        "title": "[v11.0.x] Update dependency yaml to v2.4.1",
        "body": "Backport 40c88596d89cce40a0c6614cd35a120d78f1f6bc from #85335\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [yaml](https://eemeli.org/yaml/) ([source](https://togithub.com/eemeli/yaml)) | [`2.3.4` -> `2.4.1`](https://renovatebot.com/diffs/npm/yaml/2.3.4/2.4.1) | [![age](https://developer.mend.io/api/mc/badges/age/npm/yaml/2.4.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/yaml/2.4.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/yaml/2.3.4/2.4.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/yaml/2.3.4/2.4.1?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>eemeli/yaml (yaml)</summary>\n\n### [`v2.4.1`](https://togithub.com/eemeli/yaml/compare/v2.4.0...4aa56d337dc5e286eb0c9111a3b370f21e321117)\n\n[Compare Source](https://togithub.com/eemeli/yaml/compare/v2.4.0...v2.4.1)\n\n### [`v2.4.0`](https://togithub.com/eemeli/yaml/releases/tag/v2.4.0)\n\n[Compare Source](https://togithub.com/eemeli/yaml/compare/v2.3.4...v2.4.0)\n\n-   Add a command-line tool ([#&#8203;523](https://togithub.com/eemeli/yaml/issues/523))\n-   Use the `lineWidth` option for line breaking in flow collections ([#&#8203;522](https://togithub.com/eemeli/yaml/issues/522))\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 85306,
        "title": "ci: Stop running ephemeral instances workflow when not needed",
        "body": "<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\n\r\nSince https://github.com/grafana/grafana/pull/72503, the `config` job from the `Ephemeral instances: PR comment` workflow has been running on every comment. This is a regression as the `handle-pull-request-event` job only runs when necessary (i.e. when the appopriate PR comment is present).\r\n\r\n**Why do we need this feature?**\r\n\r\nFixes a CI bug\r\n\r\n**Who is this feature for?**\r\n\r\nInternal maintainers\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nn/a\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "backport v11.0.x",
            "type/ci"
        ]
    },
    {
        "number": 86233,
        "title": "Docs: Update broken links to grafana play",
        "body": "**What is this feature?**\r\n\r\nUpdating broken links to play.grafana.org in our documentation",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/docs",
            "backport v11.0.x"
        ]
    },
    {
        "number": 85305,
        "title": "JWT: Find login and email claims with JMESPATH",
        "body": "**What is this feature?**\r\n\r\nThis feature will resolve login/username and email claims using JMESPath. This will allow us to use `rootClaim.subClaim.listOfEmails[0]`.\r\n\r\n**Why do we need this feature?**\r\n\r\nThis has been requested in the [past](https://github.com/grafana/grafana/issues/69451). However, this won't solve the issue for Google's JWT subclaim `gcip` since that needs to be parsed again.\r\n\r\nhttps://github.com/grafana/grafana/issues/75856\r\n\r\n**Who is this feature for?**\r\n\r\nIAM\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes https://github.com/grafana/grafana/issues/69451\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "area/backend",
            "product-approved"
        ]
    },
    {
        "number": 85327,
        "title": "Update dependency @swc/helpers to v0.5.8",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@swc/helpers](https://swc.rs) ([source](https://togithub.com/swc-project/swc)) | [`0.5.7` -> `0.5.8`](https://renovatebot.com/diffs/npm/@swc%2fhelpers/0.5.7/0.5.8) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@swc%2fhelpers/0.5.8?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@swc%2fhelpers/0.5.8?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@swc%2fhelpers/0.5.7/0.5.8?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@swc%2fhelpers/0.5.7/0.5.8?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>swc-project/swc (@&#8203;swc/helpers)</summary>\n\n### [`v0.5.8`](https://togithub.com/swc-project/swc/compare/4c83dcc37058495ceeecd3ae225ed95df7cf0b6d...10ece99e0f28ccd6cfe0942e36d913721dbd3961)\n\n[Compare Source](https://togithub.com/swc-project/swc/compare/4c83dcc37058495ceeecd3ae225ed95df7cf0b6d...10ece99e0f28ccd6cfe0942e36d913721dbd3961)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "backport-failed",
            "dependencies"
        ]
    },
    {
        "number": 87075,
        "title": "[v11.0.x] Alerting: Use expected field name for receiver in HCL export",
        "body": "Backport 70ff229bed758374de1faecbb058cf9dcb9ee0d7 from #87065\n\n---\n\n**What is this feature?**\r\n\r\nThis PR corrects a field name mismatch between Grafana Alerting HCL export and the Terraform provider's accepted model (see [here](https://registry.terraform.io/providers/grafana/grafana/latest/docs/resources/rule_group#nested-schema-for-rulenotification_settings) for definition).\r\n\r\n**Why do we need this feature?**\r\n\r\nFix HCL export of rules using simplified routing.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\nFixes #87064\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "area/alerting",
            "backport"
        ]
    },
    {
        "number": 84974,
        "title": "Add onClick behaviour to links to new tooltips",
        "body": "**What is this feature?**\r\n\r\nThis PR adds a call to the `onClick` function of a link if it exists. It replicates the behaviour of the previous tooltips (it was using the `DataLink` component, and handling the link's `onClick` ([ref](https://github.com/grafana/grafana/blob/b20da139ad0fe96299321c347baa4da36860ea54/packages/grafana-ui/src/components/DataLinks/DataLinkButton.tsx#L22)))\r\n\r\n**Why do we need this feature?**\r\n\r\nWe need this feature to be able to override the link and behaviour when clicking on it, since we usually have the information related to that point in there.\r\n\r\n**Who is this feature for?**\r\n\r\nIt replicates existing behaviour in the old tooltips, so for everyone relying on the `onClick` attribute of the link.\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #\r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "no-backport",
            "type/bug",
            "backport v11.0.x",
            "area/tooltip"
        ]
    },
    {
        "number": 85234,
        "title": "Update dependency @grafana/faro-web-sdk to v1.5.0",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@grafana/faro-web-sdk](https://togithub.com/grafana/faro-web-sdk) ([source](https://togithub.com/grafana/faro-web-sdk/tree/HEAD/packages/web-sdk)) | [`1.4.2` -> `1.5.0`](https://renovatebot.com/diffs/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@grafana%2ffaro-web-sdk/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@grafana%2ffaro-web-sdk/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>grafana/faro-web-sdk (@&#8203;grafana/faro-web-sdk)</summary>\n\n### [`v1.5.0`](https://togithub.com/grafana/faro-web-sdk/blob/HEAD/CHANGELOG.md#150)\n\n[Compare Source](https://togithub.com/grafana/faro-web-sdk/compare/v1.4.2...v1.5.0)\n\n-   Feat(`@grafana/faro-web-sdk`): Add responseStatus to performance events ([#&#8203;526](https://togithub.com/grafana/faro-web-sdk/issues/526)).\n-   Fix (`@grafana/faro-web-sdk`): Faro updates sessions in an infinite loop if DOM Storage is not\n    available ([#&#8203;519](https://togithub.com/grafana/faro-web-sdk/issues/519)).\n-   Feat (`@grafana/faro-react`): Support instrumenting React Router v6 data routers ([#&#8203;518](https://togithub.com/grafana/faro-web-sdk/issues/518)).\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 85235,
        "title": "Update dependency @grafana/faro-web-sdk to v1.5.0",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@grafana/faro-web-sdk](https://togithub.com/grafana/faro-web-sdk) ([source](https://togithub.com/grafana/faro-web-sdk/tree/HEAD/packages/web-sdk)) | [`1.4.2` -> `1.5.0`](https://renovatebot.com/diffs/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@grafana%2ffaro-web-sdk/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@grafana%2ffaro-web-sdk/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@grafana%2ffaro-web-sdk/1.4.2/1.5.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>grafana/faro-web-sdk (@&#8203;grafana/faro-web-sdk)</summary>\n\n### [`v1.5.0`](https://togithub.com/grafana/faro-web-sdk/blob/HEAD/CHANGELOG.md#150)\n\n[Compare Source](https://togithub.com/grafana/faro-web-sdk/compare/v1.4.2...v1.5.0)\n\n-   Feat(`@grafana/faro-web-sdk`): Add responseStatus to performance events ([#&#8203;526](https://togithub.com/grafana/faro-web-sdk/issues/526)).\n-   Fix (`@grafana/faro-web-sdk`): Faro updates sessions in an infinite loop if DOM Storage is not\n    available ([#&#8203;519](https://togithub.com/grafana/faro-web-sdk/issues/519)).\n-   Feat (`@grafana/faro-react`): Support instrumenting React Router v6 data routers ([#&#8203;518](https://togithub.com/grafana/faro-web-sdk/issues/518)).\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "backport-failed",
            "dependencies"
        ]
    },
    {
        "number": 85205,
        "title": "Update dependency nanoid to v5.0.6",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [nanoid](https://togithub.com/ai/nanoid) | [`5.0.4` -> `5.0.6`](https://renovatebot.com/diffs/npm/nanoid/5.0.4/5.0.6) | [![age](https://developer.mend.io/api/mc/badges/age/npm/nanoid/5.0.6?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/nanoid/5.0.6?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/nanoid/5.0.4/5.0.6?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/nanoid/5.0.4/5.0.6?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>ai/nanoid (nanoid)</summary>\n\n### [`v5.0.6`](https://togithub.com/ai/nanoid/blob/HEAD/CHANGELOG.md#506)\n\n[Compare Source](https://togithub.com/ai/nanoid/compare/5.0.5...5.0.6)\n\n-   Fixed React Native support.\n\n### [`v5.0.5`](https://togithub.com/ai/nanoid/blob/HEAD/CHANGELOG.md#505)\n\n[Compare Source](https://togithub.com/ai/nanoid/compare/5.0.4...5.0.5)\n\n-   Make browser\u2019s version faster by increasing size a little (by Samuel Elgozi).\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled because a matching PR was automerged previously.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 85236,
        "title": "Update dependency @grafana/plugin-e2e to ^0.25.0",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [@grafana/plugin-e2e](https://togithub.com/grafana/plugin-tools) ([source](https://togithub.com/grafana/plugin-tools/tree/HEAD/packages/plugin-e2e)) | [`^0.21.0` -> `^0.25.0`](https://renovatebot.com/diffs/npm/@grafana%2fplugin-e2e/0.21.0/0.25.0) | [![age](https://developer.mend.io/api/mc/badges/age/npm/@grafana%2fplugin-e2e/0.25.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/@grafana%2fplugin-e2e/0.25.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/@grafana%2fplugin-e2e/0.21.0/0.25.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/@grafana%2fplugin-e2e/0.21.0/0.25.0?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>grafana/plugin-tools (@&#8203;grafana/plugin-e2e)</summary>\n\n### [`v0.25.0`](https://togithub.com/grafana/plugin-tools/blob/HEAD/packages/plugin-e2e/CHANGELOG.md#v0250-Tue-Mar-26-2024)\n\n[Compare Source](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.24.0...@grafana/plugin-e2e@0.25.0)\n\n##### \ud83d\ude80 Enhancement\n\n-   Plugin E2E: Change package imports and exports [#&#8203;838](https://togithub.com/grafana/plugin-tools/pull/838) ([@&#8203;sunker](https://togithub.com/sunker))\n\n##### Authors: 1\n\n-   Erik Sundell ([@&#8203;sunker](https://togithub.com/sunker))\n\n***\n\n### [`v0.24.0`](https://togithub.com/grafana/plugin-tools/blob/HEAD/packages/plugin-e2e/CHANGELOG.md#v0240-Tue-Mar-26-2024)\n\n[Compare Source](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.23.0...@grafana/plugin-e2e@0.24.0)\n\n##### \ud83d\ude80 Enhancement\n\n-   Plugin E2E: Use new e2e selectors [#&#8203;833](https://togithub.com/grafana/plugin-tools/pull/833) ([@&#8203;sunker](https://togithub.com/sunker))\n\n##### Authors: 1\n\n-   Erik Sundell ([@&#8203;sunker](https://togithub.com/sunker))\n\n***\n\n### [`v0.23.0`](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.22.0...@grafana/plugin-e2e@0.23.0)\n\n[Compare Source](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.22.0...@grafana/plugin-e2e@0.23.0)\n\n### [`v0.22.0`](https://togithub.com/grafana/plugin-tools/blob/HEAD/packages/plugin-e2e/CHANGELOG.md#v0220-Mon-Mar-18-2024)\n\n[Compare Source](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.21.1...@grafana/plugin-e2e@0.22.0)\n\n##### \ud83d\ude80 Enhancement\n\n-   E2E: Added command and page to interact with app pages [#&#8203;821](https://togithub.com/grafana/plugin-tools/pull/821) ([@&#8203;mckn](https://togithub.com/mckn))\n\n##### Authors: 1\n\n-   Marcus Andersson ([@&#8203;mckn](https://togithub.com/mckn))\n\n***\n\n### [`v0.21.1`](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.21.0...@grafana/plugin-e2e@0.21.1)\n\n[Compare Source](https://togithub.com/grafana/plugin-tools/compare/@grafana/plugin-e2e@0.21.0...@grafana/plugin-e2e@0.21.1)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86366,
        "title": "[v11.0.x] Canvas: Fix SVG items background glitch",
        "body": "Backport 726a6660599f4fb605de1946d9ac5dbc0fa79d2e from #85078\n\n---\n\n<!--\r\n\r\nThank you for sending a pull request! Here are some tips:\r\n\r\n1. If this is your first time, please read our contribution guide at https://github.com/grafana/grafana/blob/main/CONTRIBUTING.md\r\n\r\n2. Ensure you include and run the appropriate tests as part of your Pull Request.\r\n\r\n3. In a new feature or configuration option, an update to the documentation is necessary. Everything related to the documentation is under the docs folder in the root of the repository.\r\n\r\n4. If the Pull Request is a work in progress, make use of GitHub's \"Draft PR\" feature and mark it as such.\r\n\r\n5. If you can not merge your Pull Request due to a merge conflict, Rebase it. This gets it in sync with the main branch.\r\n\r\n6. Name your PR as \"<FeatureArea>: Describe your change\", e.g. Alerting: Prevent race condition. If it's a fix or feature relevant for the changelog describe the user impact in the title. The PR title is used to auto-generate the changelog for issues marked with the \"add to changelog\" label.\r\n\r\n7. If your PR content should be added to the What's New document for the next major or minor release, add the **add to what's new** label to your PR. Note that you should add this label to the main PR that introduces the feature; do not add this label to smaller PRs for the feature.\r\n\r\n-->\r\n\r\n**What is this feature?**\r\n\r\nThis PR fix a glitch when canvas SVG items ignore transparent background color.\r\n\r\nhttps://github.com/grafana/grafana/assets/1418924/1ed795ab-8c85-4cec-a540-e9187cd1e6a1\r\n\r\n\r\n\r\n**Which issue(s) does this PR fix?**:\r\n\r\n<!--\r\n\r\n- Automatically closes linked issue when the Pull Request is merged.\r\n\r\nUsage: \"Fixes #<issue number>\", or \"Fixes (paste link of issue)\"\r\n\r\n-->\r\n\r\nFixes #84871 \r\n\r\n**Special notes for your reviewer:**\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/panel/canvas",
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "area/dataviz"
        ]
    },
    {
        "number": 86738,
        "title": "Chore: Fix CVE-2024-22363",
        "body": "Fixes https://github.com/grafana/grafana/issues/85784",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport v11.0.x"
        ]
    },
    {
        "number": 85257,
        "title": "I18n: Download translations from Crowdin",
        "body": ":robot: Automatic download of translations from Crowdin.\n\nSteps for merging:\n  1. A quick sanity check of the changes and approve. Things to look out for:\n    - No changes in the English file. The source of truth is in the main branch, NOT in Crowdin.\n    - Translations maybe be removed if the English phrase was removed, but there should not be many of these\n    - Anything else that looks 'funky'. Ask if you're not sure.\n  2. Approve & (Auto-)merge. :tada:\n\nIf there's a conflict, close the pull request and **delete the branch**. A GH action will recreate the pull request.\nRemember, the longer this pull request is open, the more likely it is that it'll get conflicts.\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "pr/external",
            "area/internationalization"
        ]
    },
    {
        "number": 83819,
        "title": "Add FolderUID for library elements",
        "body": "Reverts grafana/grafana#83776",
        "labels": [
            "no-changelog",
            "area/backend/db/migration",
            "type/bug",
            "area/backend",
            "backport v11.0.x",
            "backport v10.3.x",
            "backport-failed",
            "backport v10.4.x"
        ]
    },
    {
        "number": 87073,
        "title": "Chore: Update go-duck dependency to v0.0.18",
        "body": "**What is this feature?**\r\n\r\nUpdates `go-duck` to latest version.  That defaults the path to duckdb cli to `/usr/local/bin/`\r\n\r\n**Why do we need this feature?**\r\n\r\nFor Hosted Grafana...\r\n> the process runs with a clean environment, so there is no PATH\r\n\r\nThe duckdb cli is under `/usr/local/bin/` on our [hg image](https://github.com/grafana/hosted-grafana/pull/5370/files#diff-b81740545ea4c433defdf1c82e035bd8aeafb757b93ef68a2c5e0f5c305f687aR51).\r\n\r\n**Who is this feature for?**\r\n\r\nAnyone who wants more powerful Transformations\r\n\r\nPlease check that:\r\n- [x] It works as expected from a user's perspective.\r\n- [x] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [x] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "no-changelog",
            "type/bug",
            "area/backend",
            "backport v11.0.x",
            "product-approved",
            "backport-failed"
        ]
    },
    {
        "number": 87205,
        "title": "[v11.0.x] Docs: add field overrides shared content",
        "body": "Backport d5cfcc8187e59bb0393a352c58b2044e77991db5 from #87197\n\n---\n\nThis PR adds a shared file with field override options for visualizations and adds that file to relevant visualizations.\r\n\r\n",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 87313,
        "title": "[v11.0.x] Datatrails: Fix overflow of labels",
        "body": "Backport 9fbca6c03574b86a6c5dac87252cd91f041d57af from #87301\n\n---\n\n**What is this feature?**\r\n\r\nBefore: \r\n![image](https://github.com/grafana/grafana/assets/820946/2764783f-976a-4a26-83ab-6c69e0775156)\r\n\r\nAfter:\r\n![image](https://github.com/grafana/grafana/assets/820946/179ee201-5881-4acc-98de-d3a8ef81838f)\r\n\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport",
            "area/exploremetrics"
        ]
    },
    {
        "number": 87151,
        "title": "[v11.0.x] XYChart2: Fix tooltip mode",
        "body": "Backport 4312f2accd37d6afd21cf39a7c12ce3a435110e2 from #87147\n\n---\n\nFixes: tooltip visibility after switching between hidden/single mode; series name\r\n\r\nhttps://github.com/grafana/grafana/assets/88068998/42ebf308-93f0-4a26-9cb3-ed54c9cd646c\r\n\r\n\r\n\r\nFixes #85368\r\n\r\n\r\nPlease check that:\r\n- [ ] It works as expected from a user's perspective.\r\n- [ ] If this is a pre-GA feature, it is behind a feature toggle.\r\n- [ ] The docs are updated, and if this is a [notable improvement](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/#how-to-determine-if-content-belongs-in-a-whats-new-document), it's added to our [What's New](https://grafana.com/docs/writers-toolkit/writing-guide/contribute-release-notes/) doc.\r\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport",
            "area/panel/xychart"
        ]
    },
    {
        "number": 81890,
        "title": "Typo fix in User API doc example",
        "body": "Very small typo fix in [doc](https://grafana.com/docs/grafana/latest/developers/http_api/user/). No need for additional description.",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "pr/external",
            "backport v10.3.x",
            "backport v10.4.x"
        ]
    },
    {
        "number": 86726,
        "title": "Docs: Add config guidance for embedding",
        "body": null,
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x",
            "backport v10.3.x",
            "backport v10.4.x",
            "backport v10.2.x"
        ]
    },
    {
        "number": 86073,
        "title": "Docs: add panels & visualizations landing page",
        "body": null,
        "labels": [
            "no-changelog",
            "type/docs",
            "backport v11.0.x"
        ]
    },
    {
        "number": 86324,
        "title": "[v11.0.x] Update dependency react-zoom-pan-pinch to v3.4.3",
        "body": "Backport a6fcbd1eb2230f4971783463486c9465591ecb94 from #85263\n\n---\n\n[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [react-zoom-pan-pinch](https://togithub.com/prc5/react-zoom-pan-pinch) | [`3.3.0` -> `3.4.3`](https://renovatebot.com/diffs/npm/react-zoom-pan-pinch/3.3.0/3.4.3) | [![age](https://developer.mend.io/api/mc/badges/age/npm/react-zoom-pan-pinch/3.4.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/react-zoom-pan-pinch/3.4.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/react-zoom-pan-pinch/3.3.0/3.4.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/react-zoom-pan-pinch/3.3.0/3.4.3?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>prc5/react-zoom-pan-pinch (react-zoom-pan-pinch)</summary>\n\n### [`v3.4.3`](https://togithub.com/BetterTyped/react-zoom-pan-pinch/releases/tag/v3.4.3)\n\n[Compare Source](https://togithub.com/prc5/react-zoom-pan-pinch/compare/v3.4.2...v3.4.3)\n\n##### Bug Fixes\n\n-   Add check for ResizeObserver availability to prevent reference errors ([#&#8203;455](https://togithub.com/prc5/react-zoom-pan-pinch/issues/455)) ([acecc35](https://togithub.com/prc5/react-zoom-pan-pinch/commit/acecc35b27b921604a73448ad10a0c7d85345bec))\n\n### [`v3.4.2`](https://togithub.com/BetterTyped/react-zoom-pan-pinch/releases/tag/v3.4.2)\n\n[Compare Source](https://togithub.com/prc5/react-zoom-pan-pinch/compare/v3.4.1...v3.4.2)\n\n##### Bug Fixes\n\n-   Exclude all nested elements ([#&#8203;450](https://togithub.com/prc5/react-zoom-pan-pinch/issues/450)) ([7df9ad7](https://togithub.com/prc5/react-zoom-pan-pinch/commit/7df9ad793f49a6f3c59ac24278728e86ff540d78))\n\n### [`v3.4.1`](https://togithub.com/BetterTyped/react-zoom-pan-pinch/releases/tag/v3.4.1)\n\n[Compare Source](https://togithub.com/prc5/react-zoom-pan-pinch/compare/v3.4.0...v3.4.1)\n\n##### Bug Fixes\n\n-   update props when TransformWrapper is updated ([#&#8203;449](https://togithub.com/prc5/react-zoom-pan-pinch/issues/449)) ([c17412b](https://togithub.com/prc5/react-zoom-pan-pinch/commit/c17412b858979c59be8f564fdda3967c39a7c451))\n\n### [`v3.4.0`](https://togithub.com/BetterTyped/react-zoom-pan-pinch/releases/tag/v3.4.0)\n\n[Compare Source](https://togithub.com/prc5/react-zoom-pan-pinch/compare/v3.3.0...v3.4.0)\n\n##### Bug Fixes\n\n-   Mouse panning when used in shadow DOM ([#&#8203;448](https://togithub.com/prc5/react-zoom-pan-pinch/issues/448)) ([cad806b](https://togithub.com/prc5/react-zoom-pan-pinch/commit/cad806bcb5ff2daa35debe595745f2f8f12b43d2))\n\n##### Features\n\n-   added pan on scroll, improve the build ([#&#8203;447](https://togithub.com/prc5/react-zoom-pan-pinch/issues/447)) ([6167676](https://togithub.com/prc5/react-zoom-pan-pinch/commit/6167676715e01297697b42eb504e26788fef66a2))\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 85249,
        "title": "Update dependency react-hook-form to v7.51.2",
        "body": "[![Mend Renovate](https://app.renovatebot.com/images/banner.svg)](https://renovatebot.com)\n\nThis PR contains the following updates:\n\n| Package | Change | Age | Adoption | Passing | Confidence |\n|---|---|---|---|---|---|\n| [react-hook-form](https://www.react-hook-form.com) ([source](https://togithub.com/react-hook-form/react-hook-form)) | [`7.49.3` -> `7.51.2`](https://renovatebot.com/diffs/npm/react-hook-form/7.49.3/7.51.2) | [![age](https://developer.mend.io/api/mc/badges/age/npm/react-hook-form/7.51.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![adoption](https://developer.mend.io/api/mc/badges/adoption/npm/react-hook-form/7.51.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![passing](https://developer.mend.io/api/mc/badges/compatibility/npm/react-hook-form/7.49.3/7.51.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) | [![confidence](https://developer.mend.io/api/mc/badges/confidence/npm/react-hook-form/7.49.3/7.51.2?slim=true)](https://docs.renovatebot.com/merge-confidence/) |\n\n---\n\n> [!WARNING]\n> Some dependencies could not be looked up. Check the Dependency Dashboard for more information.\n\n---\n\n### Release Notes\n\n<details>\n<summary>react-hook-form/react-hook-form (react-hook-form)</summary>\n\n### [`v7.51.2`](https://togithub.com/react-hook-form/react-hook-form/releases/tag/v7.51.2): Version 7.51.2\n\n[Compare Source](https://togithub.com/react-hook-form/react-hook-form/compare/v7.51.1...v7.51.2)\n\n\ud83d\udc1e fix [#&#8203;11719](https://togithub.com/react-hook-form/react-hook-form/issues/11719) validation stuck on true state ([#&#8203;11723](https://togithub.com/react-hook-form/react-hook-form/issues/11723))\n\n### [`v7.51.1`](https://togithub.com/react-hook-form/react-hook-form/compare/v7.51.0...00ce24a0a3fc25c98606f673d79ae90c6d3de81a)\n\n[Compare Source](https://togithub.com/react-hook-form/react-hook-form/compare/v7.51.0...v7.51.1)\n\n### [`v7.51.0`](https://togithub.com/react-hook-form/react-hook-form/blob/HEAD/CHANGELOG.md#7510---2024-3-2)\n\n[Compare Source](https://togithub.com/react-hook-form/react-hook-form/compare/v7.50.1...v7.51.0)\n\n##### Added\n\n-   added 'validateFields' to formState\n\n```tsx\nconst { formState: { validateFields } } = useForm();\n```\n\n### [`v7.50.1`](https://togithub.com/react-hook-form/react-hook-form/releases/tag/v7.50.1): Version v7.50.1\n\n[Compare Source](https://togithub.com/react-hook-form/react-hook-form/compare/v7.50.0...v7.50.1)\n\n\ud83e\udd72 Regression: Revert \"\u2328\ufe0f fix [#&#8203;10734](https://togithub.com/react-hook-form/react-hook-form/issues/10734) watch and useWatch without parameters return type ([#&#8203;11359](https://togithub.com/react-hook-form/react-hook-form/issues/11359))\"\n\n### [`v7.50.0`](https://togithub.com/react-hook-form/react-hook-form/releases/tag/v7.50.0): Versions 7.50.0\n\n[Compare Source](https://togithub.com/react-hook-form/react-hook-form/compare/v7.49.3...v7.50.0)\n\n\ud83d\udd27 fix data param in handleSubmit when TTransformedValues is a union type ([#&#8203;11420](https://togithub.com/react-hook-form/react-hook-form/issues/11420))\n\ud83d\udc77 build(Engines): remove pnpm dependency ([#&#8203;11425](https://togithub.com/react-hook-form/react-hook-form/issues/11425))\n\ud83d\udc1e fixes [#&#8203;11386](https://togithub.com/react-hook-form/react-hook-form/issues/11386) get new dirtyFields when reset keeping defaults and dirty values ([#&#8203;11401](https://togithub.com/react-hook-form/react-hook-form/issues/11401))\n\ud83c\udff7\ufe0f improve CustomElement type ([#&#8203;11309](https://togithub.com/react-hook-form/react-hook-form/issues/11309))\n\ud83d\udcab feat(useForm): leave formState flags in a consistent state when throwing in handleSubmit onValid ([#&#8203;11214](https://togithub.com/react-hook-form/react-hook-form/issues/11214))\n\u2328\ufe0f fix: change DeepPartial to account for object union types & unknown ([#&#8203;11385](https://togithub.com/react-hook-form/react-hook-form/issues/11385))\n\u2728 feat(values): priorities values over defaultvalues ([#&#8203;11399](https://togithub.com/react-hook-form/react-hook-form/issues/11399))\n\ud83d\udc1e close [#&#8203;11246](https://togithub.com/react-hook-form/react-hook-form/issues/11246) skip root validation on action when mode and revalidate mode is onSubmit ([#&#8203;11395](https://togithub.com/react-hook-form/react-hook-form/issues/11395))\n\ud83d\udca9 fix [#&#8203;11322](https://togithub.com/react-hook-form/react-hook-form/issues/11322) trigger extra re-render with useWatch plus shouldUnregister ([#&#8203;11394](https://togithub.com/react-hook-form/react-hook-form/issues/11394))\n\u2328\ufe0f fix [#&#8203;10734](https://togithub.com/react-hook-form/react-hook-form/issues/10734) watch and useWatch without parameters return type ([#&#8203;11359](https://togithub.com/react-hook-form/react-hook-form/issues/11359))\n\ud83e\uddd1\u200d\u2708\ufe0f fix [#&#8203;11281](https://togithub.com/react-hook-form/react-hook-form/issues/11281) issue with upgrade node version ([#&#8203;11392](https://togithub.com/react-hook-form/react-hook-form/issues/11392))\n\ud83d\udc1e fix [#&#8203;11368](https://togithub.com/react-hook-form/react-hook-form/issues/11368) keep form state mounted when keeping values ([#&#8203;11384](https://togithub.com/react-hook-form/react-hook-form/issues/11384))\n\ud83d\udc1e fix [#&#8203;11374](https://togithub.com/react-hook-form/react-hook-form/issues/11374): Nested deep partial with unknown ([#&#8203;11373](https://togithub.com/react-hook-form/react-hook-form/issues/11373))\n\nthanks to [@&#8203;Moshyfawn](https://togithub.com/Moshyfawn), [@&#8203;jonahallibone](https://togithub.com/jonahallibone), [@&#8203;eladattias1996](https://togithub.com/eladattias1996), [@&#8203;RulerOfCakes](https://togithub.com/RulerOfCakes), [@&#8203;anonkey](https://togithub.com/anonkey), [@&#8203;Ar4ys](https://togithub.com/Ar4ys), [@&#8203;IanVS](https://togithub.com/IanVS) and [@&#8203;r-kataoka11](https://togithub.com/r-kataoka11)\n\n</details>\n\n---\n\n### Configuration\n\n\ud83d\udcc5 **Schedule**: Branch creation - At any time (no schedule defined), Automerge - At any time (no schedule defined).\n\n\ud83d\udea6 **Automerge**: Disabled by config. Please merge this manually once you are satisfied.\n\n\u267b **Rebasing**: Whenever PR becomes conflicted, or you tick the rebase/retry checkbox.\n\n\ud83d\udd15 **Ignore**: Close this PR and you won't be reminded about this update again.\n\n---\n\n - [ ] <!-- rebase-check -->If you want to rebase/retry this PR, check this box\n\n---\n\nThis PR has been generated by [Mend Renovate](https://www.mend.io/free-developer-tools/renovate/). View repository job log [here](https://developer.mend.io/github/grafana/grafana).\n<!--renovate-debug:eyJjcmVhdGVkSW5WZXIiOiIzNy4yNjkuMiIsInVwZGF0ZWRJblZlciI6IjM3LjI2OS4yIiwidGFyZ2V0QnJhbmNoIjoibWFpbiJ9-->\n",
        "labels": [
            "area/frontend",
            "no-changelog",
            "backport v11.0.x",
            "product-approved",
            "dependencies"
        ]
    },
    {
        "number": 86786,
        "title": "Fix home breadcrumbs",
        "body": "Fixes the dashboard breadcrumbs on the homepage when navigating to `http://localhost:3000/`. It would default to a wrong url in that component and rendered `Home > Dashboard > Home` instead of simply `Home`.\r\n\r\nAlso fixes the gap reported in the issue.\r\n\r\nFixes https://github.com/grafana/grafana/issues/83888",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "type/bug",
            "backport v11.0.x",
            "area/dashboard"
        ]
    },
    {
        "number": 87472,
        "title": "[v11.0.x] Chore: Upgrade go to 1.21.10",
        "body": "Manual backport of https://github.com/grafana/grafana/pull/87463\r\n\r\nUpgrades go to 1.21.10",
        "labels": [
            "no-backport",
            "area/backend",
            "type/build-packaging",
            "type/ci",
            "add to changelog"
        ]
    },
    {
        "number": 86231,
        "title": "[v11.0.x] docs: query data/relative time range override play link",
        "body": "Backport c450d61d32ce6b291bbc81dd09bc68aac2be3afd from #86213\n\n---\n\npart of a series of PRs",
        "labels": [
            "no-changelog",
            "type/docs",
            "backport"
        ]
    },
    {
        "number": 87001,
        "title": "[v11.0.x] Dasbhoard scenes: Don't return null when uids are not matching for new dashboards",
        "body": "Backport c3cde17b33ecc2696b7039315f0a11070ba4b6ee from #86998\n\n---\n\n\r\n**What is this feature?**\r\nWhen creating a new dashboard we don't have UIDs to compare, so let's not compare uids when creating new dashboards.",
        "labels": [
            "area/frontend",
            "no-changelog",
            "area/scenes",
            "backport",
            "area/dashboard",
            "missing-labels"
        ]
    },
    {
        "number": 85443,
        "title": "Canvas: Fix division by zero",
        "body": "Fix issue where division by zero was occurring during flowchart connection edit for cases where source and target anchors have the same x or y coordinate. This also goes after unexpected behavior when dragging an element.\r\n\r\n- [x] Remove division by zero\r\n- [x] ~~Add minimum constraint for x and y delta~~\r\n- [x] New vertices not lined up properly\r\n- [x] Apply fix to existing vertices\r\n- [x] Temporary edit lines need to be adjusted\r\n- [x] Explore fixing for all cases (even those beyond minimum x and y delta region) #85295\r\n- [x] Update vertex handling to use new persistant original coordindate system\r\n- [x] Fix curves\r\n- [ ]~~Ensure tangency for first segment when using curves~~ https://github.com/grafana/grafana/issues/86210\r\n- [x] ~~Code clean-up~~ https://github.com/grafana/grafana/issues/85013\r\n\r\nFixes #85031, #85295",
        "labels": [
            "area/panel/canvas",
            "area/frontend",
            "no-changelog",
            "type/bug",
            "backport v11.0.x"
        ]
    }
]